(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1570:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react=__webpack_require__(1),react_default=__webpack_require__.n(react),LinearGradient=__webpack_require__(1558),AreaSeries=__webpack_require__(1559),LineSeries=__webpack_require__(1593),WithTooltip=__webpack_require__(1565),XYChart=__webpack_require__(1574),CrossHair=__webpack_require__(1566),chartTheme=__webpack_require__(1573),lodash=__webpack_require__(183),es=__webpack_require__(94);function _typeof2(obj){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof2(obj){return typeof obj}:function _typeof2(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function _typeof(obj){return _typeof2(obj)}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)})(obj)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var CONTAINER_STYLE={padding:8},TooltipFrame_TooltipFrame=function(_PureComponent){function TooltipFrame(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TooltipFrame),_possibleConstructorReturn(this,_getPrototypeOf(TooltipFrame).apply(this,arguments))}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(TooltipFrame,react["PureComponent"]),function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(TooltipFrame,[{key:"render",value:function render(){var _this$props=this.props,className=_this$props.className,children=_this$props.children;return react_default.a.createElement("div",{className:className,style:CONTAINER_STYLE},children)}}]),TooltipFrame}();!function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(TooltipFrame_TooltipFrame,"defaultProps",{className:""});var tooltip_TooltipFrame=TooltipFrame_TooltipFrame;function TooltipTable_typeof2(obj){return(TooltipTable_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof2(obj){return typeof obj}:function _typeof2(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function TooltipTable_typeof(obj){return(TooltipTable_typeof="function"==typeof Symbol&&"symbol"===TooltipTable_typeof2(Symbol.iterator)?function _typeof(obj){return TooltipTable_typeof2(obj)}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":TooltipTable_typeof2(obj)})(obj)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){TooltipTable_defineProperty(target,key,source[key])})}return target}function TooltipTable_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function TooltipTable_possibleConstructorReturn(self,call){return!call||"object"!==TooltipTable_typeof(call)&&"function"!=typeof call?function TooltipTable_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function TooltipTable_getPrototypeOf(o){return(TooltipTable_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function TooltipTable_setPrototypeOf(o,p){return(TooltipTable_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function TooltipTable_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var VALUE_CELL_STYLE={paddingLeft:8,textAlign:"right"},TooltipTable_TooltipTable=function(_PureComponent){function TooltipTable(){return function TooltipTable_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TooltipTable),TooltipTable_possibleConstructorReturn(this,TooltipTable_getPrototypeOf(TooltipTable).apply(this,arguments))}return function TooltipTable_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&TooltipTable_setPrototypeOf(subClass,superClass)}(TooltipTable,react["PureComponent"]),function TooltipTable_createClass(Constructor,protoProps,staticProps){return protoProps&&TooltipTable_defineProperties(Constructor.prototype,protoProps),staticProps&&TooltipTable_defineProperties(Constructor,staticProps),Constructor}(TooltipTable,[{key:"render",value:function render(){var _this$props=this.props,className=_this$props.className,data=_this$props.data;return react_default.a.createElement("table",{className:className},react_default.a.createElement("tbody",null,data.map(function(_ref,i){var key=_ref.key,keyColumn=_ref.keyColumn,keyStyle=_ref.keyStyle,valueColumn=_ref.valueColumn,valueStyle=_ref.valueStyle;return react_default.a.createElement("tr",{key:key},react_default.a.createElement("td",{style:keyStyle},keyColumn),react_default.a.createElement("td",{style:valueStyle?_objectSpread({},VALUE_CELL_STYLE,valueStyle):VALUE_CELL_STYLE},valueColumn))})))}}]),TooltipTable}();TooltipTable_defineProperty(TooltipTable_TooltipTable,"defaultProps",{className:"",data:[]});var MARK_STYLE={marginRight:4};function createTooltip(encoder,allSeries){return function LineTooltip(_ref){var datum=_ref.datum,_ref$series=_ref.series,series=void 0===_ref$series?{}:_ref$series;return react_default.a.createElement(tooltip_TooltipFrame,null,react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",null,react_default.a.createElement("strong",null,encoder.channels.x.formatValue(datum.x))),react_default.a.createElement("br",null),series&&react_default.a.createElement(TooltipTable_TooltipTable,{data:allSeries.filter(function(_ref2){var key=_ref2.key;return series[key]}).concat().sort(function(a,b){return series[b.key].y-series[a.key].y}).map(function(_ref3){var key=_ref3.key,color=_ref3.color,strokeDasharray=_ref3.strokeDasharray;return{key:key,keyColumn:react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("svg",{width:"12",height:"8",style:MARK_STYLE},react_default.a.createElement("line",{x2:"12",y1:"3",y2:"3",stroke:color,strokeWidth:"2",strokeDasharray:strokeDasharray})),series[key]===datum?react_default.a.createElement("b",null,key):key),valueColumn:encoder.channels.y.formatValue(series[key].y)}})})))}}var collectScalesFromProps=__webpack_require__(1009),XAxis=__webpack_require__(1563),YAxis=__webpack_require__(1564),mergeMargin=__webpack_require__(1562);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function createTickComponent(_ref){var labelAngle=_ref.labelAngle,labelOverlap=_ref.labelOverlap,orient=_ref.orient,_ref$tickTextAnchor=_ref.tickTextAnchor,tickTextAnchor=void 0===_ref$tickTextAnchor?"start":_ref$tickTextAnchor;if("rotate"===labelOverlap&&0!==labelAngle){var xOffset=labelAngle>0?-6:6;"top"===orient&&(xOffset=0);var yOffset="top"===orient?-3:0;return function TickComponent(_ref2){var x=_ref2.x,y=_ref2.y,_ref2$formattedValue=(_ref2.dy,_ref2.formattedValue),formattedValue=void 0===_ref2$formattedValue?"":_ref2$formattedValue,textStyle=_objectWithoutProperties(_ref2,["x","y","dy","formattedValue"]);return react_default.a.createElement("g",{transform:"translate(".concat(x+xOffset,", ").concat(y+yOffset,")")},react_default.a.createElement("text",_extends({transform:"rotate(".concat(labelAngle,")")},textStyle,{textAnchor:tickTextAnchor}),formattedValue))}}return null}var isDefined=__webpack_require__(1528);function ChartFrame_typeof2(obj){return(ChartFrame_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof2(obj){return typeof obj}:function _typeof2(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ChartFrame_typeof(obj){return(ChartFrame_typeof="function"==typeof Symbol&&"symbol"===ChartFrame_typeof2(Symbol.iterator)?function _typeof(obj){return ChartFrame_typeof2(obj)}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":ChartFrame_typeof2(obj)})(obj)}function ChartFrame_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ChartFrame_possibleConstructorReturn(self,call){return!call||"object"!==ChartFrame_typeof(call)&&"function"!=typeof call?function ChartFrame_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ChartFrame_getPrototypeOf(o){return(ChartFrame_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ChartFrame_setPrototypeOf(o,p){return(ChartFrame_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function checkNumber(input){return Object(isDefined.a)(input)&&"number"==typeof input}var ChartFrame_ChartFrame=function(_PureComponent){function ChartFrame(){return function ChartFrame_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ChartFrame),ChartFrame_possibleConstructorReturn(this,ChartFrame_getPrototypeOf(ChartFrame).apply(this,arguments))}return function ChartFrame_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ChartFrame_setPrototypeOf(subClass,superClass)}(ChartFrame,react["PureComponent"]),function ChartFrame_createClass(Constructor,protoProps,staticProps){return protoProps&&ChartFrame_defineProperties(Constructor.prototype,protoProps),staticProps&&ChartFrame_defineProperties(Constructor,staticProps),Constructor}(ChartFrame,[{key:"render",value:function render(){var _this$props=this.props,contentWidth=_this$props.contentWidth,contentHeight=_this$props.contentHeight,width=_this$props.width,height=_this$props.height,renderContent=_this$props.renderContent,overflowX=checkNumber(contentWidth)&&contentWidth>width,overflowY=checkNumber(contentHeight)&&contentHeight>height;return overflowX||overflowY?react_default.a.createElement("div",{style:{height:height,overflowX:overflowX?"auto":"hidden",overflowY:overflowY?"auto":"hidden",width:width}},renderContent({height:Math.max(contentHeight||0,height),width:Math.max(contentWidth||0,width)})):renderContent({height:height,width:width})}}]),ChartFrame}();!function ChartFrame_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(ChartFrame_ChartFrame,"defaultProps",{renderContent:function renderContent(){}});function XYChartLayout_extends(){return(XYChartLayout_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function XYChartLayout_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function XYChartLayout_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var OVERFLOW_MARGIN=8,XYChartLayout_XYChartLayout=function(){function XYChartLayout(spec){!function XYChartLayout_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,XYChartLayout),XYChartLayout_defineProperty(this,"chartWidth",void 0),XYChartLayout_defineProperty(this,"chartHeight",void 0),XYChartLayout_defineProperty(this,"containerWidth",void 0),XYChartLayout_defineProperty(this,"containerHeight",void 0),XYChartLayout_defineProperty(this,"margin",void 0),XYChartLayout_defineProperty(this,"spec",void 0),XYChartLayout_defineProperty(this,"xLayout",void 0),XYChartLayout_defineProperty(this,"yLayout",void 0),this.spec=spec;var width=spec.width,height=spec.height,_spec$minContentWidth=spec.minContentWidth,minContentWidth=void 0===_spec$minContentWidth?0:_spec$minContentWidth,_spec$minContentHeigh=spec.minContentHeight,minContentHeight=void 0===_spec$minContentHeigh?0:_spec$minContentHeigh,margin=spec.margin,xEncoder=spec.xEncoder,yEncoder=spec.yEncoder,children=spec.children,theme=spec.theme,_collectScalesFromPro=Object(collectScalesFromProps.a)({width:width,height:height,margin:margin,xScale:xEncoder.definition.scale||{},yScale:yEncoder.definition.scale||{},theme:theme,children:children}),xScale=_collectScalesFromPro.xScale,yScale=_collectScalesFromPro.yScale;void 0!==yEncoder.scale&&yEncoder.scale.setDomain(yScale.domain()),void 0!==yEncoder.axis&&(this.yLayout=yEncoder.axis.computeLayout({axisWidth:Math.max(height-margin.top-margin.bottom),tickLength:theme.yTickStyles.length,tickTextStyle:theme.yTickStyles.label.right}));var secondMargin=this.yLayout?Object(mergeMargin.a)(margin,this.yLayout.minMargin):margin,innerWidth=Math.max(width-secondMargin.left-secondMargin.right,minContentWidth);void 0!==xEncoder.scale&&xEncoder.scale.setDomain(xScale.domain()),void 0!==xEncoder.axis&&(this.xLayout=xEncoder.axis.computeLayout({axisWidth:innerWidth,labelAngle:this.recommendXLabelAngle(xEncoder.axis.config.orient),tickLength:theme.xTickStyles.length,tickTextStyle:theme.xTickStyles.label.bottom}));var finalMargin=this.xLayout?Object(mergeMargin.a)(secondMargin,this.xLayout.minMargin):secondMargin,innerHeight=Math.max(height-finalMargin.top-finalMargin.bottom,minContentHeight),chartWidth=Math.round(innerWidth+finalMargin.left+finalMargin.right),chartHeight=Math.round(innerHeight+finalMargin.top+finalMargin.bottom),isOverFlowX=chartWidth>width,isOverFlowY=chartHeight>height;isOverFlowX&&(finalMargin.bottom+=OVERFLOW_MARGIN),isOverFlowY&&(finalMargin.right+=OVERFLOW_MARGIN),this.chartWidth=isOverFlowX?chartWidth+OVERFLOW_MARGIN:chartWidth,this.chartHeight=isOverFlowY?chartHeight+OVERFLOW_MARGIN:chartHeight,this.containerWidth=width,this.containerHeight=height,this.margin=finalMargin}return function XYChartLayout_createClass(Constructor,protoProps,staticProps){return protoProps&&XYChartLayout_defineProperties(Constructor.prototype,protoProps),staticProps&&XYChartLayout_defineProperties(Constructor,staticProps),Constructor}(XYChartLayout,[{key:"recommendXLabelAngle",value:function recommendXLabelAngle(){var xOrient=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bottom",axis=this.spec.yEncoder.axis;return!this.yLayout||void 0!==axis&&("right"===axis.config.orient&&"bottom"===xOrient||"left"===axis.config.orient&&"top"===xOrient)?40:-40}},{key:"renderChartWithFrame",value:function renderChartWithFrame(renderChart){return react_default.a.createElement(ChartFrame_ChartFrame,{width:this.containerWidth,height:this.containerHeight,contentWidth:this.chartWidth,contentHeight:this.chartHeight,renderContent:renderChart})}},{key:"renderXAxis",value:function renderXAxis(props){var axis=this.spec.xEncoder.axis;return axis&&this.xLayout?react_default.a.createElement(XAxis.a,XYChartLayout_extends({label:axis.getTitle(),labelOffset:this.xLayout.labelOffset,numTicks:axis.config.tickCount,orientation:axis.config.orient,tickComponent:createTickComponent(this.xLayout),tickFormat:axis.getFormat()},props)):null}},{key:"renderYAxis",value:function renderYAxis(props){var axis=this.spec.yEncoder.axis;return axis&&this.yLayout?react_default.a.createElement(YAxis.a,XYChartLayout_extends({label:axis.getTitle(),labelOffset:this.yLayout.labelOffset,numTicks:axis.config.tickCount,orientation:axis.config.orient,tickFormat:axis.getFormat()},props)):null}}]),XYChartLayout}(),vx_responsive_es=__webpack_require__(1542);function WithLegend_typeof2(obj){return(WithLegend_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof2(obj){return typeof obj}:function _typeof2(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function WithLegend_typeof(obj){return(WithLegend_typeof="function"==typeof Symbol&&"symbol"===WithLegend_typeof2(Symbol.iterator)?function _typeof(obj){return WithLegend_typeof2(obj)}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":WithLegend_typeof2(obj)})(obj)}function WithLegend_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){WithLegend_defineProperty(target,key,source[key])})}return target}function WithLegend_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function WithLegend_possibleConstructorReturn(self,call){return!call||"object"!==WithLegend_typeof(call)&&"function"!=typeof call?function WithLegend_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function WithLegend_getPrototypeOf(o){return(WithLegend_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function WithLegend_setPrototypeOf(o,p){return(WithLegend_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function WithLegend_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var defaultProps={className:"",height:"auto",width:"auto",legendJustifyContent:void 0,position:"top"},LEGEND_STYLE_BASE={display:"flex",flexGrow:0,flexShrink:0,fontSize:"0.9em",order:-1,paddingTop:"5px"},CHART_STYLE_BASE={flexBasis:"auto",flexGrow:1,flexShrink:1,position:"relative"},WithLegend_WithLegend=function(_PureComponent){function WithLegend(){return function WithLegend_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WithLegend),WithLegend_possibleConstructorReturn(this,WithLegend_getPrototypeOf(WithLegend).apply(this,arguments))}return function WithLegend_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&WithLegend_setPrototypeOf(subClass,superClass)}(WithLegend,react["PureComponent"]),function WithLegend_createClass(Constructor,protoProps,staticProps){return protoProps&&WithLegend_defineProperties(Constructor.prototype,protoProps),staticProps&&WithLegend_defineProperties(Constructor,staticProps),Constructor}(WithLegend,[{key:"getContainerDirection",value:function getContainerDirection(){switch(this.props.position){case"left":return"row";case"right":return"row-reverse";case"bottom":return"column-reverse";default:case"top":return"column"}}},{key:"getLegendJustifyContent",value:function getLegendJustifyContent(){var _this$props=this.props,legendJustifyContent=_this$props.legendJustifyContent,position=_this$props.position;if(legendJustifyContent)return legendJustifyContent;switch(position){case"left":case"right":return"flex-start";case"bottom":return"flex-end";default:case"top":return"flex-end"}}},{key:"render",value:function render(){var _this$props2=this.props,className=_this$props2.className,width=_this$props2.width,height=_this$props2.height,position=_this$props2.position,renderChart=_this$props2.renderChart,renderLegend=_this$props2.renderLegend,isHorizontal="left"===position||"right"===position,style={display:"flex",flexDirection:this.getContainerDirection()};width&&(style.width=width),height&&(style.height=height);var chartStyle=WithLegend_objectSpread({},CHART_STYLE_BASE);isHorizontal?chartStyle.width=0:chartStyle.height=0;var legendDirection=isHorizontal?"column":"row",legendStyle=WithLegend_objectSpread({},LEGEND_STYLE_BASE,{flexDirection:legendDirection,justifyContent:this.getLegendJustifyContent()});return react_default.a.createElement("div",{className:"with-legend ".concat(className),style:style},renderLegend&&react_default.a.createElement("div",{className:"legend-container",style:legendStyle},renderLegend({direction:legendDirection})),react_default.a.createElement("div",{className:"main-container",style:chartStyle},react_default.a.createElement(vx_responsive_es.a,null,function(parent){return parent.width>0&&parent.height>0?renderChart(parent):null})))}}]),WithLegend}();WithLegend_defineProperty(WithLegend_WithLegend,"defaultProps",defaultProps);var components_WithLegend=WithLegend_WithLegend;function isValueDef(channelDef){return channelDef&&"value"in channelDef}function isNonValueDef(channelDef){return channelDef&&!("value"in channelDef)}function isFieldDef(channelDef){return channelDef&&"field"in channelDef&&!!channelDef.field}var NumberFormatterRegistrySingleton=__webpack_require__(135),TimeFormatterRegistrySingleton=__webpack_require__(652),fallbackFormatter=function fallbackFormatter(v){return"".concat(v)};function extractFormatFromTypeAndFormat(type,format){if("quantitative"===type){var formatter=Object(NumberFormatterRegistrySingleton.b)(format);return function(value){return formatter(value)}}if("temporal"===type){var _formatter=Object(TimeFormatterRegistrySingleton.b)(format);return function(value){return _formatter(value)}}return fallbackFormatter}function extractFormatFromChannelDef(definition){return function isTypedFieldDef(channelDef){return isFieldDef(channelDef)&&"type"in channelDef&&!!channelDef.type}(definition)?extractFormatFromTypeAndFormat(definition.type,"format"in definition&&void 0!==definition.format?definition.format:""):fallbackFormatter}var esm=__webpack_require__(138),CategoricalColorScale=__webpack_require__(122),src=__webpack_require__(29),src_scale=__webpack_require__(1543);function isDisabled(config){return!1===config||null===config}function extractScale_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){extractScale_defineProperty(target,key,source[key])})}return target}function extractScale_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function createScale(channelType,scaleType,config){var namespace=config.namespace;if("Color"===channelType){var scheme=config.scheme;return"string"==typeof scheme||void 0===scheme?esm.b.getScale(scheme,namespace):esm.b.getScale(scheme.name,namespace)}var scale=function createScaleFromType(type){switch(type){case src_scale.a.LINEAR:return Object(src.b)();case src_scale.a.LOG:return Object(src.c)();case src_scale.a.POW:return Object(src.f)();case src_scale.a.SQRT:return Object(src.i)();case src_scale.a.SYMLOG:return;case src_scale.a.TIME:return Object(src.k)();case src_scale.a.UTC:return Object(src.l)();case src_scale.a.QUANTILE:return Object(src.g)();case src_scale.a.QUANTIZE:return Object(src.h)();case src_scale.a.THRESHOLD:return Object(src.j)();case src_scale.a.BIN_ORDINAL:case src_scale.a.ORDINAL:return Object(src.d)();case src_scale.a.POINT:return Object(src.e)();case src_scale.a.BAND:return Object(src.a)();default:return}}(scaleType);return void 0!==scale&&(scale.domain&&void 0!==config.domain&&scale.domain(config.domain),scale.range&&void 0!==config.range&&scale.range(config.range),"nice"in scale&&scale.nice&&!1!==config.nice&&scale.nice(),"clamp"in scale&&void 0!==scale.clamp&&void 0!==config.clamp&&scale.clamp(config.clamp)),scale}function extractScale(channelType,definition,namespace){if(isNonValueDef(definition)){var scaleConfig="scale"in definition&&void 0!==definition.scale?definition.scale:{};if(isDisabled(scaleConfig))return;var scaleType=scaleConfig.type;if(void 0===scaleType)if(void 0===(scaleType=function deriveScaleTypeFromDataTypeAndChannelType(dataType,channelType){var isBinned=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0!==dataType)if("nominal"===dataType||"ordinal"===dataType)switch(channelType){case"XBand":case"YBand":return src_scale.a.BAND;case"X":case"Y":case"Numeric":return src_scale.a.POINT;case"Color":case"Category":return src_scale.a.ORDINAL}else if("quantitative"===dataType)switch(channelType){case"XBand":case"YBand":case"X":case"Y":case"Numeric":return src_scale.a.LINEAR;case"Color":return isBinned?src_scale.a.LINEAR:src_scale.a.BIN_ORDINAL}else if("temporal"===dataType)switch(channelType){case"XBand":case"YBand":case"X":case"Y":case"Numeric":return src_scale.a.TIME;case"Color":return src_scale.a.LINEAR}}("type"in definition?definition.type:void 0,channelType)))return;var scale=createScale(channelType,scaleType,extractScale_objectSpread({namespace:namespace},scaleConfig));if(scale){var setDomain=scale instanceof CategoricalColorScale.a||void 0===scale.domain?function(){}:scale.domain;return{config:extractScale_objectSpread({},scaleConfig,{type:scaleType}),encodeValue:scale,scale:scale,setDomain:setDomain}}}}var fp=__webpack_require__(1529),utils_identity=function identity(x){return x};function isEnabled(config){return!isDisabled(config)}var getTextDimension=__webpack_require__(296);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function AxisAgent_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function AxisAgent_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){AxisAgent_defineProperty(target,key,source[key])})}return target}function AxisAgent_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var DEFAULT_BASE_CONFIG={labelOverlap:"auto",labelPadding:4,tickCount:5},DEFAULT_X_CONFIG=AxisAgent_objectSpread({},DEFAULT_BASE_CONFIG,{labelAngle:40,orient:"bottom"}),DEFAULT_Y_CONFIG=AxisAgent_objectSpread({},DEFAULT_BASE_CONFIG,{labelAngle:0,orient:"left"}),AxisAgent_AxisAgent=function(){function AxisAgent(channelEncoder){!function AxisAgent_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AxisAgent),AxisAgent_defineProperty(this,"channelEncoder",void 0),AxisAgent_defineProperty(this,"format",void 0),AxisAgent_defineProperty(this,"config",void 0),this.channelEncoder=channelEncoder;var definition=channelEncoder.definition,type=definition.type,_definition$axis=definition.axis,axis=void 0===_definition$axis?{}:_definition$axis;this.config=this.channelEncoder.isX()?AxisAgent_objectSpread({},DEFAULT_X_CONFIG,axis):AxisAgent_objectSpread({},DEFAULT_Y_CONFIG,axis),void 0!==axis.format&&(this.format=extractFormatFromTypeAndFormat(type,axis.format))}return function AxisAgent_createClass(Constructor,protoProps,staticProps){return protoProps&&AxisAgent_defineProperties(Constructor.prototype,protoProps),staticProps&&AxisAgent_defineProperties(Constructor,staticProps),Constructor}(AxisAgent,[{key:"getFormat",value:function getFormat(){return this.format||this.channelEncoder.formatValue}},{key:"hasTitle",value:function hasTitle(){return""!==this.getTitle()}},{key:"getTitle",value:function getTitle(){var title=this.config.title;return void 0===title||!0===title?this.channelEncoder.getTitle():!1===title||""===title?"":title}},{key:"getTickLabels",value:function getTickLabels(){var _this$config=this.config,tickCount=_this$config.tickCount,values=_this$config.values,format=this.getFormat();if(void 0!==values)return values.map(format);if(void 0!==this.channelEncoder.scale){var scale=this.channelEncoder.scale.scale;if(void 0!==scale&&!(scale instanceof CategoricalColorScale.a))return("ticks"in scale&&void 0!==scale.ticks?scale.ticks(tickCount):scale.domain()).map(format)}return[]}},{key:"computeLayout",value:function computeLayout(_ref){var _ref$axisTitleHeight=_ref.axisTitleHeight,axisTitleHeight=void 0===_ref$axisTitleHeight?20:_ref$axisTitleHeight,axisWidth=_ref.axisWidth,_ref$gapBetweenAxisLa=_ref.gapBetweenAxisLabelAndBorder,gapBetweenAxisLabelAndBorder=void 0===_ref$gapBetweenAxisLa?8:_ref$gapBetweenAxisLa,_ref$gapBetweenTickAn=_ref.gapBetweenTickAndTickLabel,gapBetweenTickAndTickLabel=void 0===_ref$gapBetweenTickAn?4:_ref$gapBetweenTickAn,_ref$labelAngle=_ref.labelAngle,labelAngle=void 0===_ref$labelAngle?this.config.labelAngle:_ref$labelAngle,tickLength=_ref.tickLength,tickTextStyle=_ref.tickTextStyle,tickLabels=this.getTickLabels(),labelDimensions=tickLabels.map(function(text){return Object(getTextDimension.a)({style:tickTextStyle,text:text})}),_this$config2=this.config,labelOverlap=_this$config2.labelOverlap,labelPadding=_this$config2.labelPadding,orient=_this$config2.orient,maxWidth=Math.max.apply(Math,_toConsumableArray(labelDimensions.map(function(d){return d.width}))),strategyForLabelOverlap=labelOverlap;if("auto"===strategyForLabelOverlap){var widthPerTick=axisWidth/tickLabels.length;strategyForLabelOverlap=this.channelEncoder.isY()||maxWidth<=widthPerTick?"flat":"rotate"}var tickTextAnchor,spaceForAxisTitle=this.hasTitle()?labelPadding+axisTitleHeight:0,labelOffset=0,requiredMargin=tickLength+gapBetweenTickAndTickLabel+spaceForAxisTitle+gapBetweenAxisLabelAndBorder;if(this.channelEncoder.isX()){if("flat"===strategyForLabelOverlap){var labelHeight=labelDimensions[0].height;labelOffset=labelHeight+labelPadding,requiredMargin+=labelHeight}else if("rotate"===strategyForLabelOverlap){var _labelHeight=Math.ceil(Math.abs(maxWidth*Math.sin(labelAngle*Math.PI/180)));labelOffset=_labelHeight+labelPadding,requiredMargin+=_labelHeight,tickTextAnchor="top"===orient&&labelAngle>0||"bottom"===orient&&labelAngle<0?"end":"start"}requiredMargin+=8}else labelOffset=maxWidth+spaceForAxisTitle,requiredMargin+=maxWidth;return{labelAngle:"flat"===strategyForLabelOverlap?0:labelAngle,labelOffset:labelOffset,labelOverlap:strategyForLabelOverlap,minMargin:AxisAgent_defineProperty({},orient,Math.ceil(requiredMargin)),orient:orient,tickTextAnchor:tickTextAnchor}}}]),AxisAgent}();function ChannelEncoder_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ChannelEncoder_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ChannelEncoder_ChannelEncoder=function(){function ChannelEncoder(_ref){var name=_ref.name,type=_ref.type,definition=_ref.definition,_ref$options=_ref.options,options=void 0===_ref$options?{}:_ref$options;!function ChannelEncoder_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ChannelEncoder),ChannelEncoder_defineProperty(this,"name",void 0),ChannelEncoder_defineProperty(this,"type",void 0),ChannelEncoder_defineProperty(this,"definition",void 0),ChannelEncoder_defineProperty(this,"options",void 0),ChannelEncoder_defineProperty(this,"getValue",void 0),ChannelEncoder_defineProperty(this,"encodeValue",void 0),ChannelEncoder_defineProperty(this,"formatValue",void 0),ChannelEncoder_defineProperty(this,"scale",void 0),ChannelEncoder_defineProperty(this,"axis",void 0),this.name=name,this.type=type,this.definition=definition,this.options=options,this.getValue=function extractGetter(definition){return isValueDef(definition)?function(){return definition.value}:"field"in definition&&void 0!==definition.field?Object(fp.get)(definition.field):utils_identity}(definition),this.formatValue=extractFormatFromChannelDef(definition),this.scale=extractScale(this.type,definition,options.namespace),this.isXY()&&isNonValueDef(this.definition)&&("axis"in this.definition&&isEnabled(this.definition.axis)||!("axis"in this.definition))&&(this.axis=new AxisAgent_AxisAgent(this)),this.encodeValue=this.scale?this.scale.encodeValue:utils_identity,this.encode=this.encode.bind(this),this.format=this.format.bind(this),this.get=this.get.bind(this)}return function ChannelEncoder_createClass(Constructor,protoProps,staticProps){return protoProps&&ChannelEncoder_defineProperties(Constructor.prototype,protoProps),staticProps&&ChannelEncoder_defineProperties(Constructor,staticProps),Constructor}(ChannelEncoder,[{key:"encode",value:function encode(datum,otherwise){var value=this.get(datum);if(null==value)return value;var output=this.encodeValue(value);return void 0!==otherwise&&null==output?otherwise:output}},{key:"format",value:function format(datum){return this.formatValue(this.get(datum))}},{key:"get",value:function get(datum,otherwise){var value=this.getValue(datum);return void 0!==otherwise&&null==value?otherwise:value}},{key:"getTitle",value:function getTitle(){return isFieldDef(this.definition)?this.definition.title||this.definition.field:""}},{key:"hasLegend",value:function hasLegend(){return!(isDisabled(this.options.legend)||this.isXY()||isValueDef(this.definition))&&(function isMarkPropFieldDef(channelDef){return channelDef&&"legend"in channelDef}(this.definition)?isEnabled(this.definition.legend):function isScaleFieldDef(channelDef){return channelDef&&("scale"in channelDef||"sort"in channelDef)}(this.definition))}},{key:"isX",value:function isX(){return"X"===this.type||"XBand"===this.type}},{key:"isXY",value:function isXY(){return"X"===this.type||"Y"===this.type||"XBand"===this.type||"YBand"===this.type}},{key:"isY",value:function isY(){return"Y"===this.type||"YBand"===this.type}}]),ChannelEncoder}();function AbstractEncoder_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function AbstractEncoder_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function AbstractEncoder_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){AbstractEncoder_defineProperty(target,key,source[key])})}return target}function AbstractEncoder_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function AbstractEncoder_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var AbstractEncoder_AbstractEncoder=function(){function AbstractEncoder(channelTypes,spec,defaultEncoding){var _this=this,channelOptions=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function AbstractEncoder_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AbstractEncoder),AbstractEncoder_defineProperty(this,"channelTypes",void 0),AbstractEncoder_defineProperty(this,"spec",void 0),AbstractEncoder_defineProperty(this,"channels",void 0),AbstractEncoder_defineProperty(this,"legends",void 0),this.channelTypes=channelTypes,this.spec=this.createFullSpec(spec,defaultEncoding);var channelNames=Object.keys(this.channelTypes),encoding=this.spec.encoding;this.channels=channelNames.map(function(name){return new ChannelEncoder_ChannelEncoder({definition:encoding[name],name:name,options:AbstractEncoder_objectSpread({},_this.spec.options,channelOptions[name]),type:channelTypes[name]})}).reduce(function(prev,curr){var all=prev;return all[curr.name]=curr,all},{}),this.legends={},channelNames.map(function(name){return _this.channels[name]}).filter(function(c){return c.hasLegend()}).forEach(function(c){if(isFieldDef(c.definition)){var name=c.name,field=c.definition.field;_this.legends[field]?_this.legends[field].push(name):_this.legends[field]=[name]}})}return function AbstractEncoder_createClass(Constructor,protoProps,staticProps){return protoProps&&AbstractEncoder_defineProperties(Constructor.prototype,protoProps),staticProps&&AbstractEncoder_defineProperties(Constructor,staticProps),Constructor}(AbstractEncoder,[{key:"createFullSpec",value:function createFullSpec(spec,defaultEncoding){if(void 0===defaultEncoding)return spec;var encoding=spec.encoding;return AbstractEncoder_objectSpread({},AbstractEncoder_objectWithoutProperties(spec,["encoding"]),{encoding:AbstractEncoder_objectSpread({},defaultEncoding,encoding)})}},{key:"hasLegend",value:function hasLegend(){return Object.keys(this.legends).length>0}}]),AbstractEncoder}();function Encoder_typeof2(obj){return(Encoder_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof2(obj){return typeof obj}:function _typeof2(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Encoder_typeof(obj){return(Encoder_typeof="function"==typeof Symbol&&"symbol"===Encoder_typeof2(Symbol.iterator)?function _typeof(obj){return Encoder_typeof2(obj)}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":Encoder_typeof2(obj)})(obj)}function Encoder_possibleConstructorReturn(self,call){return!call||"object"!==Encoder_typeof(call)&&"function"!=typeof call?function Encoder_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function Encoder_getPrototypeOf(o){return(Encoder_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Encoder_setPrototypeOf(o,p){return(Encoder_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Encoder_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function Encoder_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Encoder_channelTypes=new function Channels(){Encoder_classCallCheck(this,Channels),Encoder_defineProperty(this,"x","X"),Encoder_defineProperty(this,"y","Y"),Encoder_defineProperty(this,"color","Color"),Encoder_defineProperty(this,"fill","Category"),Encoder_defineProperty(this,"strokeDasharray","Category")},Encoder=function(_AbstractEncoder){function Encoder(spec){return Encoder_classCallCheck(this,Encoder),Encoder_possibleConstructorReturn(this,Encoder_getPrototypeOf(Encoder).call(this,Encoder_channelTypes,spec,Encoder.DEFAULT_ENCODINGS,Encoder.CHANNEL_OPTIONS))}return function Encoder_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Encoder_setPrototypeOf(subClass,superClass)}(Encoder,AbstractEncoder_AbstractEncoder),Encoder}();Encoder_defineProperty(Encoder,"DEFAULT_ENCODINGS",{color:{value:"#222"},fill:{value:!1},strokeDasharray:{value:""},x:{field:"x",type:"quantitative"},y:{field:"y",type:"quantitative"}}),Encoder_defineProperty(Encoder,"CHANNEL_OPTIONS",{fill:{legend:!1}});var vx_scale_es=__webpack_require__(1541),vx_legend_es=__webpack_require__(1547);function ChartLegend_typeof2(obj){return(ChartLegend_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof2(obj){return typeof obj}:function _typeof2(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function ChartLegend_typeof(obj){return(ChartLegend_typeof="function"==typeof Symbol&&"symbol"===ChartLegend_typeof2(Symbol.iterator)?function _typeof(obj){return ChartLegend_typeof2(obj)}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":ChartLegend_typeof2(obj)})(obj)}function ChartLegend_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function ChartLegend_possibleConstructorReturn(self,call){return!call||"object"!==ChartLegend_typeof(call)&&"function"!=typeof call?function ChartLegend_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function ChartLegend_getPrototypeOf(o){return(ChartLegend_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ChartLegend_setPrototypeOf(o,p){return(ChartLegend_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}var ChartLegend_MARK_STYLE={display:"inline-block"},LABEL_STYLE={display:"flex",flexDirection:"row",flexWrap:"wrap"},LEGEND_CONTAINER_STYLE={maxHeight:100,overflowY:"hidden",paddingLeft:14,paddingTop:6,position:"relative"},ChartLegend_ChartLegend=function(_PureComponent){function ChartLegend(){return function ChartLegend_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ChartLegend),ChartLegend_possibleConstructorReturn(this,ChartLegend_getPrototypeOf(ChartLegend).apply(this,arguments))}return function ChartLegend_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&ChartLegend_setPrototypeOf(subClass,superClass)}(ChartLegend,react["PureComponent"]),function ChartLegend_createClass(Constructor,protoProps,staticProps){return protoProps&&ChartLegend_defineProperties(Constructor.prototype,protoProps),staticProps&&ChartLegend_defineProperties(Constructor,staticProps),Constructor}(ChartLegend,[{key:"render",value:function render(){var _this$props=this.props,data=_this$props.data,encoder=_this$props.encoder,legends=Object.keys(encoder.legends).map(function(field){var channelNames=encoder.legends[field],channelEncoder=encoder.channels[channelNames[0]],domain=Array.from(new Set(data.values.map(channelEncoder.get))),scale=Object(vx_scale_es.a)({domain:domain,range:domain.map(function(key){return channelEncoder.encodeValue(key)})});return react_default.a.createElement("div",{key:field,style:LEGEND_CONTAINER_STYLE},react_default.a.createElement(vx_legend_es.c,{scale:scale,labelFormat:channelEncoder.formatValue},function(labels){return react_default.a.createElement("div",{style:LABEL_STYLE},labels.map(function(label){return react_default.a.createElement(vx_legend_es.a,{key:"legend-quantile-".concat(label.text),margin:"0 5px",onClick:function onClick(){alert("clicked: ".concat(JSON.stringify(label)))}},react_default.a.createElement("svg",{width:8,height:8,style:ChartLegend_MARK_STYLE},react_default.a.createElement("circle",{fill:label.value,r:4,cx:4,cy:4})),react_default.a.createElement(vx_legend_es.b,{align:"left",margin:"0 0 0 4px"},label.text))}))}))});return react_default.a.createElement(react_default.a.Fragment,null,legends)}}]),ChartLegend}();function Line_typeof2(obj){return(Line_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof2(obj){return typeof obj}:function _typeof2(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function Line_typeof(obj){return(Line_typeof="function"==typeof Symbol&&"symbol"===Line_typeof2(Symbol.iterator)?function _typeof(obj){return Line_typeof2(obj)}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":Line_typeof2(obj)})(obj)}function Line_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){Line_defineProperty(target,key,source[key])})}return target}function Line_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function Line_getPrototypeOf(o){return(Line_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function Line_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function Line_setPrototypeOf(o,p){return(Line_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function Line_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}chartTheme.a.gridStyles.stroke="#f1f3f5";var DEFAULT_MARGIN={top:20,right:20,left:20,bottom:20},Line_defaultProps={className:"",margin:DEFAULT_MARGIN,theme:chartTheme.a},CIRCLE_STYLE={strokeWidth:1.5},Line_LineChart=function(_PureComponent){function LineChart(props){var _this;!function Line_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LineChart),_this=function Line_possibleConstructorReturn(self,call){return!call||"object"!==Line_typeof(call)&&"function"!=typeof call?Line_assertThisInitialized(self):call}(this,Line_getPrototypeOf(LineChart).call(this,props)),Line_defineProperty(Line_assertThisInitialized(_this),"encoder",void 0),Line_defineProperty(Line_assertThisInitialized(_this),"createEncoder",void 0);var createEncoder=Object(es.a)(function(enc){return enc},function(enc){return new Encoder({encoding:enc})});return _this.createEncoder=function(){_this.encoder=createEncoder(_this.props.encoding)},_this.encoder=createEncoder(_this.props.encoding),_this.renderChart=_this.renderChart.bind(Line_assertThisInitialized(_this)),_this}return function Line_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&Line_setPrototypeOf(subClass,superClass)}(LineChart,react["PureComponent"]),function Line_createClass(Constructor,protoProps,staticProps){return protoProps&&Line_defineProperties(Constructor.prototype,protoProps),staticProps&&Line_defineProperties(Constructor,staticProps),Constructor}(LineChart,[{key:"renderChart",value:function renderChart(dim){var _this2=this,width=dim.width,height=dim.height,_this$props=this.props,data=_this$props.data,encoding=_this$props.encoding,margin=_this$props.margin,theme=_this$props.theme,channels=this.encoder.channels,fieldNames=data.keys.filter(function(k){return k!==encoding.x.field&&k!==encoding.y.field}).sort(function(a,b){return a.localeCompare(b)}),groups=Object(lodash.groupBy)(data.values,function(row){return fieldNames.map(function(f){return"".concat(f,"=").concat(row[f])}).join(",")}),allSeries=Object(lodash.values)(groups).map(function(seriesData){var firstDatum=seriesData[0],series={key:fieldNames.map(function(f){return firstDatum[f]}).join(","),color:channels.color.encode(firstDatum),fill:channels.fill.encode(firstDatum,!1),strokeDasharray:channels.strokeDasharray.encode(firstDatum),values:[]};return series.values=seriesData.map(function(v){return{x:channels.x.get(v),y:channels.y.get(v),data:v,parent:series}}),series}),filledSeries=Object(lodash.flatMap)(allSeries.filter(function(_ref){return _ref.fill}).map(function(series){var gradientId=Object(lodash.uniqueId)("gradient-".concat(series.key));return[react_default.a.createElement(LinearGradient.a,{key:"".concat(series.key,"-gradient"),id:gradientId,from:series.color,to:"#fff"}),react_default.a.createElement(AreaSeries.a,{key:"".concat(series.key,"-fill"),seriesKey:series.key,data:series.values,interpolation:"linear",fill:"url(#".concat(gradientId,")"),stroke:series.color,strokeWidth:1.5})]})),unfilledSeries=allSeries.filter(function(_ref2){return!_ref2.fill}).map(function(series){return react_default.a.createElement(LineSeries.a,{key:series.key,seriesKey:series.key,interpolation:"linear",data:series.values,stroke:series.color,strokeDasharray:series.strokeDasharray,strokeWidth:1.5})}),children=filledSeries.concat(unfilledSeries),layout=new XYChartLayout_XYChartLayout({width:width,height:height,margin:Line_objectSpread({},DEFAULT_MARGIN,margin),theme:theme,xEncoder:channels.x,yEncoder:channels.y,children:children});return layout.renderChartWithFrame(function(chartDim){return react_default.a.createElement(WithTooltip.a,{renderTooltip:createTooltip(_this2.encoder,allSeries)},function(_ref3){var onMouseLeave=_ref3.onMouseLeave,onMouseMove=_ref3.onMouseMove,tooltipData=_ref3.tooltipData;return react_default.a.createElement(XYChart.a,{width:chartDim.width,height:chartDim.height,ariaLabel:"LineChart",eventTrigger:"container",margin:layout.margin,onMouseMove:onMouseMove,onMouseLeave:onMouseLeave,renderTooltip:null,showYGrid:!0,snapTooltipToDataX:!0,theme:theme,tooltipData:tooltipData,xScale:channels.x.definition.scale,yScale:channels.y.definition.scale},children,layout.renderXAxis(),layout.renderYAxis(),react_default.a.createElement(CrossHair.a,{fullHeight:!0,strokeDasharray:"",showHorizontalLine:!1,circleFill:function circleFill(d){return d.y===tooltipData.datum.y?d.parent.color:"#fff"},circleSize:function circleSize(d){return d.y===tooltipData.datum.y?6:4},circleStroke:function circleStroke(d){return d.y===tooltipData.datum.y?"#fff":d.parent.color},circleStyles:CIRCLE_STYLE,stroke:"#ccc",showCircle:!0,showMultipleCircles:!0}))})})}},{key:"render",value:function render(){var _this3=this,_this$props2=this.props,className=_this$props2.className,data=_this$props2.data,width=_this$props2.width,height=_this$props2.height;this.createEncoder();var renderLegend=this.encoder.hasLegend()?function(){return react_default.a.createElement(ChartLegend_ChartLegend,{data:data,encoder:_this3.encoder})}:void 0;return react_default.a.createElement(components_WithLegend,{className:"superset-chart-line ".concat(className),width:width,height:height,position:"top",renderLegend:renderLegend,renderChart:this.renderChart})}}]),LineChart}();Line_defineProperty(Line_LineChart,"defaultProps",Line_defaultProps);__webpack_exports__.default=Line_LineChart}}]);
//# sourceMappingURL=9.b9bb457d9377cbfde2b5.bundle.js.map