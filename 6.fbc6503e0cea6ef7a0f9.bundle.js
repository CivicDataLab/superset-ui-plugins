(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1390:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(5),__webpack_require__(4),__webpack_require__(29),__webpack_require__(41),__webpack_require__(3),__webpack_require__(24),__webpack_require__(34),__webpack_require__(12),__webpack_require__(123),__webpack_require__(124);var react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__),prop_types__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__),_vx_responsive__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2188);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var propTypes={className:prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.string,width:prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.string]),height:prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.string]),legendJustifyContent:prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.oneOf(["center","flex-start","flex-end"]),position:prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.oneOf(["top","left","bottom","right"]),renderChart:prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.func.isRequired,renderLegend:prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.func.isRequired,hideLegend:prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.bool},LEGEND_STYLE_BASE={display:"flex",flexGrow:0,flexShrink:0,order:-1,paddingTop:"5px",fontSize:"0.9em"},CHART_STYLE_BASE={flexGrow:1,flexShrink:1,flexBasis:"auto",position:"relative"},WithLegend=function(_React$Component){function WithLegend(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WithLegend),_possibleConstructorReturn(this,_getPrototypeOf(WithLegend).apply(this,arguments))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(WithLegend,react__WEBPACK_IMPORTED_MODULE_10___default.a.Component),Constructor=WithLegend,(protoProps=[{key:"getContainerDirection",value:function(){switch(this.props.position){case"left":return"row";case"right":return"row-reverse";case"bottom":return"column-reverse";default:case"top":return"column"}}},{key:"getLegendJustifyContent",value:function(){var _this$props=this.props,legendJustifyContent=_this$props.legendJustifyContent,position=_this$props.position;if(legendJustifyContent)return legendJustifyContent;switch(position){case"left":case"right":return"flex-start";case"bottom":return"flex-end";default:case"top":return"flex-end"}}},{key:"render",value:function(){var _this$props2=this.props,className=_this$props2.className,width=_this$props2.width,height=_this$props2.height,position=_this$props2.position,renderChart=_this$props2.renderChart,renderLegend=_this$props2.renderLegend;if(_this$props2.hideLegend)return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div",{className:className},renderChart({width:width,height:height}));var isHorizontal="left"===position||"right"===position,style={display:"flex",flexDirection:this.getContainerDirection()};width&&(style.width=width),height&&(style.height=height);var chartStyle=_objectSpread({},CHART_STYLE_BASE);isHorizontal?chartStyle.width=0:chartStyle.height=0;var legendDirection=isHorizontal?"column":"row",legendStyle=_objectSpread({},LEGEND_STYLE_BASE,{flexDirection:legendDirection,justifyContent:this.getLegendJustifyContent()});return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div",{className:"with-legend ".concat(className),style:style},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div",{className:"legend-container",style:legendStyle},renderLegend({direction:legendDirection})),react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement("div",{className:"main-container",style:chartStyle},react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_vx_responsive__WEBPACK_IMPORTED_MODULE_12__.ParentSize,null,function(parent){return 0<parent.width&&0<parent.height?renderChart(parent):null})))}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),WithLegend;var Constructor,protoProps,staticProps}();WithLegend.propTypes=propTypes,WithLegend.defaultProps={className:"",width:"auto",height:"auto",legendJustifyContent:void 0,position:"top",hideLegend:!1},__webpack_exports__.a=WithLegend,WithLegend.__docgenInfo={description:"",methods:[{name:"getContainerDirection",docblock:null,modifiers:[],params:[],returns:null},{name:"getLegendJustifyContent",docblock:null,modifiers:[],params:[],returns:null}],displayName:"WithLegend",props:{className:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},width:{defaultValue:{value:"'auto'",computed:!1},type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""},height:{defaultValue:{value:"'auto'",computed:!1},type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1,description:""},legendJustifyContent:{defaultValue:{value:"undefined",computed:!0},type:{name:"enum",value:[{value:"'center'",computed:!1},{value:"'flex-start'",computed:!1},{value:"'flex-end'",computed:!1}]},required:!1,description:""},position:{defaultValue:{value:"'top'",computed:!1},type:{name:"enum",value:[{value:"'top'",computed:!1},{value:"'left'",computed:!1},{value:"'bottom'",computed:!1},{value:"'right'",computed:!1}]},required:!1,description:""},hideLegend:{defaultValue:{value:"false",computed:!1},type:{name:"bool"},required:!1,description:""},renderChart:{type:{name:"func"},required:!0,description:""},renderLegend:{type:{name:"func"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../superset-ui-preset-chart-xy/src/components/WithLegend.jsx"]={name:"WithLegend",docgenInfo:WithLegend.__docgenInfo,path:"../superset-ui-preset-chart-xy/src/components/WithLegend.jsx"})},1391:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return renderLegend});__webpack_require__(11),__webpack_require__(9),__webpack_require__(10),__webpack_require__(5),__webpack_require__(4),__webpack_require__(6),__webpack_require__(54),__webpack_require__(29),__webpack_require__(3),__webpack_require__(24),__webpack_require__(8),__webpack_require__(2189);var react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_12__),_superset_ui_color__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(94),_vx_legend__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2191),_vx_scale__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(2190);function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function renderLegend(data,colorEncoding){var accessor=colorEncoding.accessor,field=colorEncoding.field,scale=colorEncoding.scale,scheme=scale.scheme,namespace=scale.namespace,colorFn=_superset_ui_color__WEBPACK_IMPORTED_MODULE_13__.CategoricalColorNamespace.getScale(scheme,namespace),keySet=new Set;data.forEach(function(d){keySet.add(accessor?accessor(d):d[field])});var keys=_toConsumableArray(keySet.values()),colorScale=Object(_vx_scale__WEBPACK_IMPORTED_MODULE_15__.scaleOrdinal)({domain:keys,range:keys.map(colorFn)});return react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{style:{maxHeight:100,overflowY:"hidden",paddingLeft:14,paddingTop:6,position:"relative"}},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_vx_legend__WEBPACK_IMPORTED_MODULE_14__.LegendOrdinal,{scale:colorScale,labelFormat:function(label){return label}},function(labels){return react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"}},labels.map(function(label){return react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_vx_legend__WEBPACK_IMPORTED_MODULE_14__.LegendItem,{key:"legend-quantile-".concat(label.text),margin:"0 5px",onClick:function(){alert("clicked: ".concat(JSON.stringify(label)))}},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("svg",{width:8,height:8,style:{display:"inline-block"}},react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("rect",{fill:label.value,width:8,height:8})),react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_vx_legend__WEBPACK_IMPORTED_MODULE_14__.LegendLabel,{align:"left",margin:"0 0 0 4px"},label.text))}))}))}renderLegend.__docgenInfo={description:"",methods:[],displayName:"renderLegend"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../superset-ui-preset-chart-xy/src/utils/renderLegend.jsx"]={name:"renderLegend",docgenInfo:renderLegend.__docgenInfo,path:"../superset-ui-preset-chart-xy/src/utils/renderLegend.jsx"})},1392:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(336),__webpack_require__(12);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),collectScalesFromProps=__webpack_require__(2193),lib=__webpack_require__(1119);function adjustMargin(){var baseMargin=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},minMargin=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},_baseMargin$top=baseMargin.top,top=void 0===_baseMargin$top?0:_baseMargin$top,_baseMargin$left=baseMargin.left,left=void 0===_baseMargin$left?0:_baseMargin$left,_baseMargin$bottom=baseMargin.bottom,bottom=void 0===_baseMargin$bottom?0:_baseMargin$bottom,_baseMargin$right=baseMargin.right,right=void 0===_baseMargin$right?0:_baseMargin$right,_minMargin$top=minMargin.top,minTop=void 0===_minMargin$top?0:_minMargin$top,_minMargin$left=minMargin.left,minLeft=void 0===_minMargin$left?0:_minMargin$left,_minMargin$bottom=minMargin.bottom,minBottom=void 0===_minMargin$bottom?0:_minMargin$bottom,_minMargin$right=minMargin.right,minRight=void 0===_minMargin$right?0:_minMargin$right;return{bottom:Math.max(bottom,minBottom),left:Math.max(left,minLeft),right:Math.max(right,minRight),top:Math.max(top,minTop)}}__webpack_require__(29),__webpack_require__(41),__webpack_require__(24),__webpack_require__(34),__webpack_require__(8),__webpack_require__(11),__webpack_require__(9),__webpack_require__(10),__webpack_require__(5),__webpack_require__(4),__webpack_require__(3),__webpack_require__(6),__webpack_require__(54);var dimension_lib=__webpack_require__(338);function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function computeXAxisLayout(_ref){var finalStrategy,_ref$axisLabelHeight=_ref.axisLabelHeight,axisLabelHeight=void 0===_ref$axisLabelHeight?20:_ref$axisLabelHeight,axisWidth=_ref.axisWidth,_ref$gapBetweenAxisLa=_ref.gapBetweenAxisLabelAndBorder,gapBetweenAxisLabelAndBorder=void 0===_ref$gapBetweenAxisLa?8:_ref$gapBetweenAxisLa,_ref$gapBetweenTickAn=_ref.gapBetweenTickAndTickLabel,gapBetweenTickAndTickLabel=void 0===_ref$gapBetweenTickAn?4:_ref$gapBetweenTickAn,_ref$gapBetweenTickLa=_ref.gapBetweenTickLabelsAndAxisLabel,gapBetweenTickLabelsAndAxisLabel=void 0===_ref$gapBetweenTickLa?4:_ref$gapBetweenTickLa,_ref$labellingStrateg=_ref.labellingStrategy,labellingStrategy=void 0===_ref$labellingStrateg?"auto":_ref$labellingStrateg,_ref$orientation=_ref.orientation,orientation=void 0===_ref$orientation?"bottom":_ref$orientation,_ref$rotation=_ref.rotation,rotation=void 0===_ref$rotation?-40:_ref$rotation,tickLabels=_ref.tickLabels,tickLength=_ref.tickLength,tickTextStyle=_ref.tickTextStyle,labelDimensions=tickLabels.map(function(text){return Object(dimension_lib.getTextDimension)({style:tickTextStyle,text:text})}),maxWidth=Math.max.apply(Math,_toConsumableArray(labelDimensions.map(function(d){return d.width}))),widthPerTick=axisWidth/tickLabels.length,layout={labelOffset:0};if("flat"===(finalStrategy="auto"===labellingStrategy?maxWidth<=widthPerTick?"flat":"rotate":labellingStrategy))layout={labelOffset:labelDimensions[0].height+gapBetweenTickLabelsAndAxisLabel};else if("rotate"===finalStrategy){layout={labelOffset:Math.ceil(Math.abs(maxWidth*Math.sin(rotation*Math.PI/180)))+gapBetweenTickLabelsAndAxisLabel,rotation:rotation,tickTextAnchor:"top"===orientation&&0<rotation||"bottom"===orientation&&0>rotation?"end":"start"}}var labelOffset=layout.labelOffset;return function(target){for(var i=1;i<arguments.length;i++){var source=null==arguments[i]?{}:arguments[i],ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}({},layout,{labellingStrategy:finalStrategy,minMargin:_defineProperty({},orientation,Math.ceil(tickLength+gapBetweenTickAndTickLabel+labelOffset+axisLabelHeight+gapBetweenAxisLabelAndBorder+8)),orientation:orientation})}function computeYAxisLayout_toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}__webpack_require__(181);var prop_types=__webpack_require__(2),prop_types_default=__webpack_require__.n(prop_types);function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(0<=excluded.indexOf(key))&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function createTickComponent(_ref){var labellingStrategy=_ref.labellingStrategy,_ref$orientation=_ref.orientation,orientation=void 0===_ref$orientation?"bottom":_ref$orientation,_ref$rotation=_ref.rotation,rotation=void 0===_ref$rotation?40:_ref$rotation,_ref$tickTextAnchor=_ref.tickTextAnchor,tickTextAnchor=void 0===_ref$tickTextAnchor?"start":_ref$tickTextAnchor;if("rotate"===labellingStrategy&&0!==rotation){var xOffset=0<rotation?-6:6;"top"===orientation&&(xOffset=0);var yOffset="top"===orientation?-3:0,propTypes={dy:prop_types_default.a.number,formattedValue:prop_types_default.a.oneOfType([prop_types_default.a.number,prop_types_default.a.string]),x:prop_types_default.a.number.isRequired,y:prop_types_default.a.number.isRequired},TickComponent=function(_ref2){var x=_ref2.x,y=_ref2.y,formattedValue=(_ref2.dy,_ref2.formattedValue),textStyle=_objectWithoutProperties(_ref2,["x","y","dy","formattedValue"]);return react_default.a.createElement("g",{transform:"translate(".concat(x+xOffset,", ").concat(y+yOffset,")")},react_default.a.createElement("text",_extends({transform:"rotate(".concat(rotation,")")},textStyle,{textAnchor:tickTextAnchor}),formattedValue))};return TickComponent.propTypes=propTypes,TickComponent.defaultProps={dy:null,formattedValue:""},TickComponent}return null}var identity=__webpack_require__(2187),identity_default=__webpack_require__.n(identity);function getTickLabels(scale,axisConfig){var _axisConfig$numTicks=axisConfig.numTicks,numTicks=void 0===_axisConfig$numTicks?10:_axisConfig$numTicks,tickValues=axisConfig.tickValues,tickFormat=axisConfig.tickFormat,values=scale.ticks?scale.ticks(numTicks):scale.domain();tickValues&&(values=tickValues);var format=scale.tickFormat?scale.tickFormat():identity_default.a;return tickFormat&&(format=tickFormat),values.map(format)}__webpack_require__(123),__webpack_require__(124);var core_lib=__webpack_require__(15);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var ChartFrame_propTypes={contentHeight:prop_types_default.a.number,contentWidth:prop_types_default.a.number,height:prop_types_default.a.number.isRequired,renderContent:prop_types_default.a.func,width:prop_types_default.a.number.isRequired},ChartFrame_ChartFrame=function(_React$PureComponent){function ChartFrame(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ChartFrame),_possibleConstructorReturn(this,_getPrototypeOf(ChartFrame).apply(this,arguments))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ChartFrame,react_default.a.PureComponent),Constructor=ChartFrame,(protoProps=[{key:"render",value:function(){var _this$props=this.props,contentWidth=_this$props.contentWidth,contentHeight=_this$props.contentHeight,width=_this$props.width,height=_this$props.height,renderContent=_this$props.renderContent,overflowX=Object(core_lib.isDefined)(contentWidth)&&contentWidth>width,overflowY=Object(core_lib.isDefined)(contentHeight)&&contentHeight>height;return overflowX||overflowY?react_default.a.createElement("div",{style:{height:height,overflowX:overflowX?"scroll":"hidden",overflowY:overflowY?"scroll":"hidden",width:width}},renderContent({height:contentHeight,width:contentWidth})):renderContent({height:height,width:width})}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),ChartFrame;var Constructor,protoProps,staticProps}();ChartFrame_ChartFrame.propTypes=ChartFrame_propTypes,ChartFrame_ChartFrame.defaultProps={contentHeight:null,contentWidth:null,renderContent:function(){}};var components_ChartFrame=ChartFrame_ChartFrame;function XYChartLayout_extends(){return(XYChartLayout_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function XYChartLayout_defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}ChartFrame_ChartFrame.__docgenInfo={description:"",methods:[],displayName:"ChartFrame",props:{contentHeight:{defaultValue:{value:"null",computed:!1},type:{name:"number"},required:!1,description:""},contentWidth:{defaultValue:{value:"null",computed:!1},type:{name:"number"},required:!1,description:""},renderContent:{defaultValue:{value:"function() {}",computed:!1},type:{name:"func"},required:!1,description:""},height:{type:{name:"number"},required:!0,description:""},width:{type:{name:"number"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["../superset-ui-preset-chart-xy/src/components/ChartFrame.jsx"]={name:"ChartFrame",docgenInfo:ChartFrame_ChartFrame.__docgenInfo,path:"../superset-ui-preset-chart-xy/src/components/ChartFrame.jsx"}),__webpack_require__.d(__webpack_exports__,"a",function(){return XYChartLayout_XYChartLayout});var OVERFLOW_MARGIN=8,XYChartLayout_XYChartLayout=function(){function XYChartLayout(config){(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")})(this,XYChartLayout),this.config=config;var _ref,obj,key,value,_ref$axisLabelHeight,axisLabelHeight,_ref$gapBetweenAxisLa,gapBetweenAxisLabelAndBorder,_ref$gapBetweenTickAn,gapBetweenTickAndTickLabel,_ref$gapBetweenTickLa,gapBetweenTickLabelsAndAxisLabel,_ref$orientation,orientation,tickLabels,tickLength,tickTextStyle,labelDimensions,maxWidth,labelOffset,width=config.width,height=config.height,_config$minContentWid=config.minContentWidth,minContentWidth=void 0===_config$minContentWid?0:_config$minContentWid,_config$minContentHei=config.minContentHeight,minContentHeight=void 0===_config$minContentHei?0:_config$minContentHei,margin=config.margin,encoding=config.encoding,children=config.children,theme=config.theme,x=encoding.x,y=encoding.y,_collectScalesFromPro=Object(collectScalesFromProps.a)({width:width,height:height,margin:margin,xScale:x.scale,yScale:y.scale,theme:theme,children:children}),xScale=_collectScalesFromPro.xScale,yScale=_collectScalesFromPro.yScale,_y$axis=y.axis,yAxis=void 0===_y$axis?{}:_y$axis,yLayout=(_ref={orientation:yAxis.orientation,tickLabels:getTickLabels(yScale,yAxis),tickLength:theme.yTickStyles.length,tickTextStyle:theme.yTickStyles.label.right},_ref$axisLabelHeight=_ref.axisLabelHeight,axisLabelHeight=void 0===_ref$axisLabelHeight?20:_ref$axisLabelHeight,_ref$gapBetweenAxisLa=_ref.gapBetweenAxisLabelAndBorder,gapBetweenAxisLabelAndBorder=void 0===_ref$gapBetweenAxisLa?8:_ref$gapBetweenAxisLa,_ref$gapBetweenTickAn=_ref.gapBetweenTickAndTickLabel,gapBetweenTickAndTickLabel=void 0===_ref$gapBetweenTickAn?4:_ref$gapBetweenTickAn,_ref$gapBetweenTickLa=_ref.gapBetweenTickLabelsAndAxisLabel,gapBetweenTickLabelsAndAxisLabel=void 0===_ref$gapBetweenTickLa?4:_ref$gapBetweenTickLa,_ref$orientation=_ref.orientation,orientation=void 0===_ref$orientation?"left":_ref$orientation,tickLabels=_ref.tickLabels,tickLength=_ref.tickLength,tickTextStyle=_ref.tickTextStyle,labelDimensions=tickLabels.map(function(text){return Object(dimension_lib.getTextDimension)({style:tickTextStyle,text:text})}),maxWidth=Math.ceil(Math.max.apply(Math,computeYAxisLayout_toConsumableArray(labelDimensions.map(function(d){return d.width})))),{labelOffset:labelOffset=Math.ceil(maxWidth+gapBetweenTickLabelsAndAxisLabel+axisLabelHeight),minMargin:(obj={},key=orientation,value=tickLength+gapBetweenTickAndTickLabel+labelOffset+gapBetweenAxisLabelAndBorder,key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj),orientation:orientation}),secondMargin=adjustMargin(margin,yLayout.minMargin),left=secondMargin.left,right=secondMargin.right,_x$axis=x.axis,xAxis=void 0===_x$axis?{}:_x$axis,_xAxis$orientation=xAxis.orientation,xOrientation=void 0===_xAxis$orientation?"bottom":_xAxis$orientation,AUTO_ROTATION="right"===yLayout.orientation&&"bottom"===xOrientation||"left"===yLayout.orientation&&"top"===xOrientation?40:-40,_xAxis$rotation=xAxis.rotation,rotation=void 0===_xAxis$rotation?AUTO_ROTATION:_xAxis$rotation,innerWidth=Math.max(width-left-right,minContentWidth),xLayout=computeXAxisLayout({axisWidth:innerWidth,orientation:xOrientation,rotation:rotation,tickLabels:getTickLabels(xScale,xAxis),tickLength:theme.xTickStyles.length,tickTextStyle:theme.xTickStyles.label.bottom}),finalMargin=adjustMargin(secondMargin,xLayout.minMargin),innerHeight=Math.max(height-finalMargin.top-finalMargin.bottom,minContentHeight),chartWidth=Math.round(innerWidth+finalMargin.left+finalMargin.right),chartHeight=Math.round(innerHeight+finalMargin.top+finalMargin.bottom),isOverFlowX=chartWidth>width,isOverFlowY=chartHeight>height;isOverFlowX&&(finalMargin.bottom+=OVERFLOW_MARGIN),isOverFlowY&&(finalMargin.right+=OVERFLOW_MARGIN),this.chartWidth=isOverFlowX?chartWidth+OVERFLOW_MARGIN:chartWidth,this.chartHeight=isOverFlowY?chartHeight+OVERFLOW_MARGIN:chartHeight,this.containerWidth=width,this.containerHeight=height,this.margin=finalMargin,this.xLayout=xLayout,this.yLayout=yLayout}return Constructor=XYChartLayout,(protoProps=[{key:"createChartWithFrame",value:function(renderChart){return react_default.a.createElement(components_ChartFrame,{width:this.containerWidth,height:this.containerHeight,containerWidth:this.containerWidth,contentHeight:this.containerHeight,renderContent:renderChart})}},{key:"createXAxis",value:function(props){var axis=this.config.encoding.x.axis;return react_default.a.createElement(lib.XAxis,XYChartLayout_extends({label:axis.label,labelOffset:this.xLayout.labelOffset,orientation:this.xLayout.orientation,tickComponent:createTickComponent(this.xLayout),tickFormat:axis.tickFormat},props))}},{key:"createYAxis",value:function(props){var axis=this.config.encoding.y.axis;return react_default.a.createElement(lib.YAxis,XYChartLayout_extends({label:axis.label,labelOffset:this.yLayout.labelOffset,numTicks:axis.numTicks,orientation:this.yLayout.orientation,tickFormat:axis.tickFormat},props))}}])&&XYChartLayout_defineProperties(Constructor.prototype,protoProps),staticProps&&XYChartLayout_defineProperties(Constructor,staticProps),XYChartLayout;var Constructor,protoProps,staticProps}()}}]);
//# sourceMappingURL=6.fbc6503e0cea6ef7a0f9.bundle.js.map