(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{2041:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var prop_types=__webpack_require__(2),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__(0),react_default=__webpack_require__.n(react),lib=__webpack_require__(1049),theme_lib=__webpack_require__(1324),lodash=__webpack_require__(185),reselect_lib=__webpack_require__(180);function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var CONTAINER_STYLE={padding:8},TooltipFrame=function(a){function b(){return a.apply(this,arguments)||this}return function(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}(b,a),b.prototype.render=function(){var a=this.props,b=a.className,c=a.children;return react_default.a.createElement("div",{className:b,style:CONTAINER_STYLE},c)},b}(react.PureComponent);_defineProperty(TooltipFrame,"propTypes",{className:prop_types_default.a.string,children:prop_types_default.a.node.isRequired}),_defineProperty(TooltipFrame,"defaultProps",{className:""});var tooltip_TooltipFrame=TooltipFrame;function _extends(){return(_extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c])Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a}).apply(this,arguments)}function TooltipTable_defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var VALUE_CELL_STYLE={paddingLeft:8,textAlign:"right"},TooltipTable=function(a){function b(){return a.apply(this,arguments)||this}return function(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}(b,a),b.prototype.render=function(){var a=this.props,b=a.className,c=a.data;return react_default.a.createElement("table",{className:b},react_default.a.createElement("tbody",null,c.map(function(a){var b=a.key,c=a.keyColumn,d=a.keyStyle,e=a.valueColumn,f=a.valueStyle;return react_default.a.createElement("tr",{key:b},react_default.a.createElement("td",{style:d},c),react_default.a.createElement("td",{style:f?_extends({},VALUE_CELL_STYLE,f):VALUE_CELL_STYLE},e))})))},b}(react.PureComponent);TooltipTable_defineProperty(TooltipTable,"propTypes",{className:prop_types_default.a.string,data:prop_types_default.a.arrayOf(prop_types_default.a.shape({key:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.number]).isRequired,keyColumn:prop_types_default.a.node.isRequired,keyStyle:prop_types_default.a.any,valueColumn:prop_types_default.a.node.isRequired,valueStyle:prop_types_default.a.any}))}),TooltipTable_defineProperty(TooltipTable,"defaultProps",{className:"",data:[]});var MARK_STYLE={marginRight:4};function createTooltip(a,b){return function(c){var d=c.datum,e=c.series,f=void 0===e?{}:e;return react_default.a.createElement(tooltip_TooltipFrame,null,react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("div",null,react_default.a.createElement("strong",null,a.channels.x.formatValue(d.x))),react_default.a.createElement("br",null),f&&react_default.a.createElement(TooltipTable,{data:b.filter(function(a){var b=a.key;return f[b]}).concat().sort(function(c,a){return f[a.key].y-f[c.key].y}).map(function(b){var c=b.key,e=b.color,g=b.strokeDasharray;return{key:c,keyColumn:react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement("svg",{width:"12",height:"8",style:MARK_STYLE},react_default.a.createElement("line",{x2:"12",y1:"3",y2:"3",stroke:e,strokeWidth:"2",strokeDasharray:g})),f[c]===d?react_default.a.createElement("b",null,c):c),valueColumn:a.channels.y.formatValue(f[c].y)}})})))}}var collectScalesFromProps=__webpack_require__(1346),dimension_lib=__webpack_require__(344);function createTickComponent_extends(){return(createTickComponent_extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c])Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a}).apply(this,arguments)}function createTickComponent(a){var b=a.labelAngle,c=a.labelOverlap,d=a.orient,e=a.tickTextAnchor,f=void 0===e?"start":e;if("rotate"===c&&0!==b){var i=0<b?-6:6;"top"===d&&(i=0);var g="top"===d?-3:0;return function(a){var c=a.x,d=a.y,h=(a.dy,a.formattedValue),j=void 0===h?"":h,k=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],0<=b.indexOf(c)||(e[c]=a[c]);return e}(a,["x","y","dy","formattedValue"]);return react_default.a.createElement("g",{transform:"translate("+(c+i)+", "+(d+g)+")"},react_default.a.createElement("text",createTickComponent_extends({transform:"rotate("+b+")"},k,{textAnchor:f}),j))}}return null}var core_lib=__webpack_require__(16);function ChartFrame_defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function checkNumber(a){return Object(core_lib.isDefined)(a)&&"number"==typeof a}var ChartFrame=function(a){function b(){return a.apply(this,arguments)||this}return function(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}(b,a),b.prototype.render=function(){var a=this.props,b=a.contentWidth,c=a.contentHeight,d=a.width,e=a.height,f=a.renderContent,g=checkNumber(b)&&b>d,h=checkNumber(c)&&c>e;return g||h?react_default.a.createElement("div",{style:{height:e,overflowX:g?"auto":"hidden",overflowY:h?"auto":"hidden",width:d}},f({height:Math.max(c||0,e),width:Math.max(b||0,d)})):f({height:e,width:d})},b}(react.PureComponent);ChartFrame_defineProperty(ChartFrame,"propTypes",{contentWidth:prop_types_default.a.number,contentHeight:prop_types_default.a.number,height:prop_types_default.a.number.isRequired,renderContent:prop_types_default.a.func.isRequired,width:prop_types_default.a.number.isRequired}),ChartFrame_defineProperty(ChartFrame,"defaultProps",{renderContent:function(){}});function XYChartLayout_extends(){return(XYChartLayout_extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c])Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a}).apply(this,arguments)}function XYChartLayout_defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var OVERFLOW_MARGIN=8,XYChartLayout=function(){function a(a){XYChartLayout_defineProperty(this,"chartWidth",void 0),XYChartLayout_defineProperty(this,"chartHeight",void 0),XYChartLayout_defineProperty(this,"containerWidth",void 0),XYChartLayout_defineProperty(this,"containerHeight",void 0),XYChartLayout_defineProperty(this,"margin",void 0),XYChartLayout_defineProperty(this,"spec",void 0),XYChartLayout_defineProperty(this,"xLayout",void 0),XYChartLayout_defineProperty(this,"yLayout",void 0),this.spec=a;var b=a.width,c=a.height,d=a.minContentWidth,e=void 0===d?0:d,f=a.minContentHeight,g=void 0===f?0:f,h=a.margin,i=a.xEncoder,j=a.yEncoder,k=a.children,l=a.theme,m=Object(collectScalesFromProps.default)({width:b,height:c,margin:h,xScale:i.definition.scale||{},yScale:j.definition.scale||{},theme:l,children:k}),n=m.xScale,o=m.yScale;void 0!==j.scale&&j.scale.setDomain(o.domain()),void 0!==j.axis&&(this.yLayout=j.axis.computeLayout({axisWidth:Math.max(c-h.top-h.bottom),tickLength:l.yTickStyles.length,tickTextStyle:l.yTickStyles.label.right}));var p=this.yLayout?Object(dimension_lib.mergeMargin)(h,this.yLayout.minMargin):h,q=Math.max(b-p.left-p.right,e);void 0!==i.scale&&i.scale.setDomain(n.domain()),void 0!==i.axis&&(this.xLayout=i.axis.computeLayout({axisWidth:q,labelAngle:this.recommendXLabelAngle(i.axis.config.orient),tickLength:l.xTickStyles.length,tickTextStyle:l.xTickStyles.label.bottom}));var r=this.xLayout?Object(dimension_lib.mergeMargin)(p,this.xLayout.minMargin):p,s=Math.max(c-r.top-r.bottom,g),t=Math.round(q+r.left+r.right),u=Math.round(s+r.top+r.bottom),v=t>b,w=u>c;v&&(r.bottom+=OVERFLOW_MARGIN),w&&(r.right+=OVERFLOW_MARGIN),this.chartWidth=v?t+OVERFLOW_MARGIN:t,this.chartHeight=w?u+OVERFLOW_MARGIN:u,this.containerWidth=b,this.containerHeight=c,this.margin=r}var b=a.prototype;return b.recommendXLabelAngle=function(a){void 0===a&&(a="bottom");var b=this.spec.yEncoder.axis;return!this.yLayout||void 0!==b&&("right"===b.config.orient&&"bottom"===a||"left"===b.config.orient&&"top"===a)?40:-40},b.renderChartWithFrame=function(a){return react_default.a.createElement(ChartFrame,{width:this.containerWidth,height:this.containerHeight,contentWidth:this.chartWidth,contentHeight:this.chartHeight,renderContent:a})},b.renderXAxis=function(a){var b=this.spec.xEncoder.axis;return b&&this.xLayout?react_default.a.createElement(lib.XAxis,XYChartLayout_extends({label:b.getTitle(),labelOffset:this.xLayout.labelOffset,numTicks:b.config.tickCount,orientation:b.config.orient,tickComponent:createTickComponent(this.xLayout),tickFormat:b.getFormat()},a)):null},b.renderYAxis=function(a){var b=this.spec.yEncoder.axis;return b&&this.yLayout?react_default.a.createElement(lib.YAxis,XYChartLayout_extends({label:b.getTitle(),labelOffset:this.yLayout.labelOffset,numTicks:b.config.tickCount,orientation:b.config.orient,tickFormat:b.getFormat()},a)):null},a}(),vx_responsive_umd=__webpack_require__(1342);function WithLegend_extends(){return(WithLegend_extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c])Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a}).apply(this,arguments)}function WithLegend_defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var LEGEND_STYLE_BASE={display:"flex",flexGrow:0,flexShrink:0,fontSize:"0.9em",order:-1,paddingTop:"5px"},CHART_STYLE_BASE={flexBasis:"auto",flexGrow:1,flexShrink:1,position:"relative"},WithLegend=function(a){function b(){return a.apply(this,arguments)||this}!function(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}(b,a);var c=b.prototype;return c.getContainerDirection=function(){switch(this.props.position){case"left":return"row";case"right":return"row-reverse";case"bottom":return"column-reverse";default:case"top":return"column"}},c.getLegendJustifyContent=function(){var a=this.props,b=a.legendJustifyContent,c=a.position;if(b)return b;switch(c){case"left":case"right":return"flex-start";case"bottom":return"flex-end";default:case"top":return"flex-end"}},c.render=function(){var a=this.props,b=a.className,c=a.width,d=a.height,e=a.position,f=a.renderChart,g=a.renderLegend,h="left"===e||"right"===e,i={display:"flex",flexDirection:this.getContainerDirection()};c&&(i.width=c),d&&(i.height=d);var j=WithLegend_extends({},CHART_STYLE_BASE);h?j.width=0:j.height=0;var k=h?"column":"row",l=WithLegend_extends({},LEGEND_STYLE_BASE,{flexDirection:k,justifyContent:this.getLegendJustifyContent()});return react_default.a.createElement("div",{className:"with-legend "+b,style:i},g&&react_default.a.createElement("div",{className:"legend-container",style:l},g({direction:k})),react_default.a.createElement("div",{className:"main-container",style:j},react_default.a.createElement(vx_responsive_umd.ParentSize,null,function(a){return 0<a.width&&0<a.height?f(a):null})))},b}(react.PureComponent);WithLegend_defineProperty(WithLegend,"propTypes",{className:prop_types_default.a.string.isRequired,width:prop_types_default.a.oneOfType([prop_types_default.a.number,prop_types_default.a.string]).isRequired,height:prop_types_default.a.oneOfType([prop_types_default.a.number,prop_types_default.a.string]).isRequired,legendJustifyContent:prop_types_default.a.oneOf(["center","flex-start","flex-end"]).isRequired,position:prop_types_default.a.oneOf(["top","left","bottom","right"]).isRequired,renderChart:prop_types_default.a.func.isRequired,renderLegend:prop_types_default.a.func}),WithLegend_defineProperty(WithLegend,"defaultProps",{className:"",height:"auto",width:"auto",legendJustifyContent:void 0,position:"top"});var components_WithLegend=WithLegend;function isValueDef(a){return a&&"value"in a}function isNonValueDef(a){return a&&!("value"in a)}function isFieldDef(a){return a&&"field"in a&&!!a.field}var number_format_lib=__webpack_require__(177),time_format_lib=__webpack_require__(75),fallbackFormatter=function(a){return""+a};function extractFormatFromTypeAndFormat(a,b){if("quantitative"===a){var c=Object(number_format_lib.getNumberFormatter)(b);return function(a){return c(a)}}if("temporal"===a){var d=Object(time_format_lib.getTimeFormatter)(b);return function(a){return d(a)}}return fallbackFormatter}function extractFormatFromChannelDef(a){return function(a){return isFieldDef(a)&&"type"in a&&!!a.type}(a)?extractFormatFromTypeAndFormat(a.type,"format"in a&&void 0!==a.format?a.format:""):fallbackFormatter}var color_lib=__webpack_require__(96),d3_scale=__webpack_require__(76),scale=__webpack_require__(1347);function isDisabled(a){return!1===a||null===a}function extractScale_extends(){return(extractScale_extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c])Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a}).apply(this,arguments)}function createScale(a,b,c){var d=c.namespace;if("Color"===a){var e=c.scheme;return"string"==typeof e||void 0===e?color_lib.CategoricalColorNamespace.getScale(e,d):color_lib.CategoricalColorNamespace.getScale(e.name,d)}var f=function(a){return a===scale.ScaleType.LINEAR?Object(d3_scale.scaleLinear)():a===scale.ScaleType.LOG?Object(d3_scale.scaleLog)():a===scale.ScaleType.POW?Object(d3_scale.scalePow)():a===scale.ScaleType.SQRT?Object(d3_scale.scaleSqrt)():a===scale.ScaleType.SYMLOG?void 0:a===scale.ScaleType.TIME?Object(d3_scale.scaleTime)():a===scale.ScaleType.UTC?Object(d3_scale.scaleUtc)():a===scale.ScaleType.QUANTILE?Object(d3_scale.scaleQuantile)():a===scale.ScaleType.QUANTIZE?Object(d3_scale.scaleQuantize)():a===scale.ScaleType.THRESHOLD?Object(d3_scale.scaleThreshold)():a===scale.ScaleType.BIN_ORDINAL?Object(d3_scale.scaleOrdinal)():a===scale.ScaleType.ORDINAL?Object(d3_scale.scaleOrdinal)():a===scale.ScaleType.POINT?Object(d3_scale.scalePoint)():a===scale.ScaleType.BAND?Object(d3_scale.scaleBand)():void 0}(b);return void 0!==f&&(f.domain&&void 0!==c.domain&&f.domain(c.domain),f.range&&void 0!==c.range&&f.range(c.range),"nice"in f&&f.nice&&!1!==c.nice&&f.nice(),"clamp"in f&&void 0!==f.clamp&&void 0!==c.clamp&&f.clamp(c.clamp)),f}function extractScale(a,b,c){if(isNonValueDef(b)){var d="scale"in b&&void 0!==b.scale?b.scale:{};if(isDisabled(d))return;var e=d.type;if(void 0===e)if(void 0===(e=function(a,b,c){if(void 0===c&&(c=!1),void 0!==a)if("nominal"===a||"ordinal"===a)switch(b){case"XBand":case"YBand":return scale.ScaleType.POINT;case"X":case"Y":case"Numeric":return scale.ScaleType.POINT;case"Color":case"Category":return scale.ScaleType.ORDINAL}else if("quantitative"===a)switch(b){case"XBand":case"YBand":case"X":case"Y":case"Numeric":return scale.ScaleType.LINEAR;case"Color":return c?scale.ScaleType.LINEAR:scale.ScaleType.BIN_ORDINAL}else if("temporal"===a)switch(b){case"XBand":case"YBand":case"X":case"Y":case"Numeric":return scale.ScaleType.TIME;case"Color":return scale.ScaleType.LINEAR}}("type"in b?b.type:void 0,a)))return;var g=createScale(a,e,extractScale_extends({namespace:c},d));if(g){var h=g instanceof color_lib.CategoricalColorScale||void 0===g.domain?function(){}:g.domain;return{config:extractScale_extends({},d,{type:e}),encodeValue:g,scale:g,setDomain:h}}}}var fp=__webpack_require__(1329),utils_identity=function(a){return a};function isEnabled(a){return!isDisabled(a)}function AxisAgent_defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function AxisAgent_extends(){return(AxisAgent_extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c])Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a}).apply(this,arguments)}var DEFAULT_BASE_CONFIG={labelOverlap:"auto",labelPadding:4,tickCount:5},DEFAULT_X_CONFIG=AxisAgent_extends({},DEFAULT_BASE_CONFIG,{labelAngle:40,orient:"bottom"}),DEFAULT_Y_CONFIG=AxisAgent_extends({},DEFAULT_BASE_CONFIG,{labelAngle:0,orient:"left"}),AxisAgent=function(){function a(a){AxisAgent_defineProperty(this,"channelEncoder",void 0),AxisAgent_defineProperty(this,"format",void 0),AxisAgent_defineProperty(this,"config",void 0),this.channelEncoder=a;var b=a.definition,c=b.type,d=b.axis,e=void 0===d?{}:d;this.config=this.channelEncoder.isX()?AxisAgent_extends({},DEFAULT_X_CONFIG,e):AxisAgent_extends({},DEFAULT_Y_CONFIG,e),void 0!==e.format&&(this.format=extractFormatFromTypeAndFormat(c,e.format))}var b=a.prototype;return b.getFormat=function(){return this.format||this.channelEncoder.formatValue},b.getTitle=function(){return this.config.title||this.channelEncoder.getTitle()},b.getTickLabels=function(){var a=this.config,b=a.tickCount,c=a.values,d=this.getFormat();if(void 0!==c)return c.map(d);if(void 0!==this.channelEncoder.scale){var e=this.channelEncoder.scale.scale;if(void 0!==e&&!(e instanceof color_lib.CategoricalColorScale))return("ticks"in e&&void 0!==e.ticks?e.ticks(b):e.domain()).map(d)}return[]},b.computeLayout=function(a){var b,c=a.axisLabelHeight,d=void 0===c?20:c,e=a.axisWidth,f=a.gapBetweenAxisLabelAndBorder,g=void 0===f?8:f,h=a.gapBetweenTickAndTickLabel,i=void 0===h?4:h,j=a.labelAngle,k=void 0===j?this.config.labelAngle:j,l=a.tickLength,m=a.tickTextStyle,n=this.getTickLabels(),o=n.map(function(a){return Object(dimension_lib.getTextDimension)({style:m,text:a})}),p=this.config,q=p.labelOverlap,r=p.labelPadding,s=p.orient,t=Math.max.apply(Math,o.map(function(a){return a.width})),u=q;if("auto"===u){var z=e/n.length;u=this.channelEncoder.isY()||t<=z?"flat":"rotate"}if(this.channelEncoder.isX()){var v,w=0,x={labelAngle:k};if("flat"===u)w=o[0].height+r,x={labelAngle:0};else if("rotate"===u){w=Math.ceil(Math.abs(t*Math.sin(k*Math.PI/180)))+r,x={labelAngle:k,tickTextAnchor:"top"===s&&0<k||"bottom"===s&&0>k?"end":"start"}}return AxisAgent_extends({},x,{labelOffset:w,labelOverlap:u,minMargin:(v={},v[s]=Math.ceil(l+i+w+d+g+8),v),orient:s})}var y=Math.ceil(t+r+d);return{labelAngle:k,labelOffset:y,labelOverlap:q,minMargin:(b={},b[s]=l+i+y+g,b),orient:s}},a}();function ChannelEncoder_defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var ChannelEncoder=function(){function a(a){var b=a.name,c=a.type,d=a.definition,e=a.options,f=void 0===e?{}:e;ChannelEncoder_defineProperty(this,"name",void 0),ChannelEncoder_defineProperty(this,"type",void 0),ChannelEncoder_defineProperty(this,"definition",void 0),ChannelEncoder_defineProperty(this,"options",void 0),ChannelEncoder_defineProperty(this,"getValue",void 0),ChannelEncoder_defineProperty(this,"encodeValue",void 0),ChannelEncoder_defineProperty(this,"formatValue",void 0),ChannelEncoder_defineProperty(this,"scale",void 0),ChannelEncoder_defineProperty(this,"axis",void 0),this.name=b,this.type=c,this.definition=d,this.options=f,this.getValue=function(a){return isValueDef(a)?function(){return a.value}:"field"in a&&void 0!==a.field?Object(fp.get)(a.field):utils_identity}(d),this.formatValue=extractFormatFromChannelDef(d),this.scale=extractScale(this.type,d,f.namespace),this.isXY()&&isNonValueDef(this.definition)&&("axis"in this.definition&&isEnabled(this.definition.axis)||!("axis"in this.definition))&&(this.axis=new AxisAgent(this)),this.encodeValue=this.scale?this.scale.encodeValue:utils_identity,this.encode=this.encode.bind(this),this.format=this.format.bind(this),this.get=this.get.bind(this)}var b=a.prototype;return b.encode=function(a,b){var c=this.get(a);if(null==c)return c;var d=this.encodeValue(c);return void 0!==b&&null==d?b:d},b.format=function(a){return this.formatValue(this.get(a))},b.get=function(a,b){var c=this.getValue(a);return void 0!==b&&null==c?b:c},b.getTitle=function(){return isFieldDef(this.definition)?this.definition.title||this.definition.field:void 0},b.hasLegend=function(){return!(isDisabled(this.options.legend)||this.isXY()||isValueDef(this.definition))&&((a=this.definition)&&"legend"in a?isEnabled(this.definition.legend):function(a){return a&&("scale"in a||"sort"in a)}(this.definition));var a},b.isX=function(){return"X"===this.type||"XBand"===this.type},b.isXY=function(){return"X"===this.type||"Y"===this.type||"XBand"===this.type||"YBand"===this.type},b.isY=function(){return"Y"===this.type||"YBand"===this.type},a}();function AbstractEncoder_extends(){return(AbstractEncoder_extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c])Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a}).apply(this,arguments)}function AbstractEncoder_defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var AbstractEncoder=function(){function a(a,b,c,d){var e=this;void 0===d&&(d={}),AbstractEncoder_defineProperty(this,"channelTypes",void 0),AbstractEncoder_defineProperty(this,"spec",void 0),AbstractEncoder_defineProperty(this,"channels",void 0),AbstractEncoder_defineProperty(this,"legends",void 0),this.channelTypes=a,this.spec=this.createFullSpec(b,c);var f=Object.keys(this.channelTypes),g=this.spec.encoding;this.channels=f.map(function(b){return new ChannelEncoder({definition:g[b],name:b,options:AbstractEncoder_extends({},e.spec.options,d[b]),type:a[b]})}).reduce(function(a,b){var c=a;return c[b.name]=b,c},{}),this.legends={},f.map(function(a){return e.channels[a]}).filter(function(a){return a.hasLegend()}).forEach(function(a){if(isFieldDef(a.definition)){var b=a.name,c=a.definition.field;e.legends[c]?e.legends[c].push(b):e.legends[c]=[b]}})}var b=a.prototype;return b.createFullSpec=function(a,b){if(void 0===b)return a;var c=a.encoding;return AbstractEncoder_extends({},function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],0<=b.indexOf(c)||(e[c]=a[c]);return e}(a,["encoding"]),{encoding:AbstractEncoder_extends({},b,c)})},b.hasLegend=function(){return 0<Object.keys(this.legends).length},a}();function Encoder_defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var channelTypes=new function(){Encoder_defineProperty(this,"x","X"),Encoder_defineProperty(this,"y","Y"),Encoder_defineProperty(this,"color","Color"),Encoder_defineProperty(this,"fill","Category"),Encoder_defineProperty(this,"strokeDasharray","Category")},Encoder=function(a){function b(c){return a.call(this,channelTypes,c,b.DEFAULT_ENCODINGS,b.CHANNEL_OPTIONS)||this}return function(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}(b,a),b}(AbstractEncoder);Encoder_defineProperty(Encoder,"DEFAULT_ENCODINGS",{color:{value:"#222"},fill:{value:!1},strokeDasharray:{value:""},x:{field:"x",type:"quantitative"},y:{field:"y",type:"quantitative"}}),Encoder_defineProperty(Encoder,"CHANNEL_OPTIONS",{fill:{legend:!1}});var vx_scale_umd=__webpack_require__(1340),vx_legend_umd=__webpack_require__(1341);var a,b,c,ChartLegend_MARK_STYLE={display:"inline-block"},LABEL_STYLE={display:"flex",flexDirection:"row",flexWrap:"wrap"},LEGEND_CONTAINER_STYLE={maxHeight:100,overflowY:"hidden",paddingLeft:14,paddingTop:6,position:"relative"},ChartLegend=function(a){function b(){return a.apply(this,arguments)||this}return function(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}(b,a),b.prototype.render=function(){var a=this.props,b=a.data,c=a.encoder,d=Object.keys(c.legends).map(function(a){var d=c.legends[a],e=c.channels[d[0]],f=Array.from(new Set(b.values.map(e.get))),g=Object(vx_scale_umd.scaleOrdinal)({domain:f,range:f.map(function(a){return e.encodeValue(a)})});return react_default.a.createElement("div",{key:a,style:LEGEND_CONTAINER_STYLE},react_default.a.createElement(vx_legend_umd.LegendOrdinal,{scale:g,labelFormat:e.formatValue},function(a){return react_default.a.createElement("div",{style:LABEL_STYLE},a.map(function(a){return react_default.a.createElement(vx_legend_umd.LegendItem,{key:"legend-quantile-"+a.text,margin:"0 5px",onClick:function(){alert("clicked: "+JSON.stringify(a))}},react_default.a.createElement("svg",{width:8,height:8,style:ChartLegend_MARK_STYLE},react_default.a.createElement("circle",{fill:a.value,r:4,cx:4,cy:4})),react_default.a.createElement(vx_legend_umd.LegendLabel,{align:"left",margin:"0 0 0 4px"},a.text))}))}))});return react_default.a.createElement(react_default.a.Fragment,null,d)},b}(react.PureComponent);function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function Line_defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}a=ChartLegend,b="propTypes",c={data:prop_types_default.a.any.isRequired,encoder:prop_types_default.a.any.isRequired},b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,theme_lib.chartTheme.gridStyles.stroke="#f1f3f5";var Line_defaultProps={className:"",margin:{top:20,right:20,left:20,bottom:20},theme:theme_lib.chartTheme},CIRCLE_STYLE={strokeWidth:1.5},LineChart=function(a){function b(b){var c;Line_defineProperty(_assertThisInitialized(c=a.call(this,b)||this),"encoder",void 0),Line_defineProperty(_assertThisInitialized(c),"createEncoder",void 0);var d=Object(reselect_lib.createSelector)(function(a){return a},function(a){return new Encoder({encoding:a})});return c.createEncoder=function(){c.encoder=d(c.props.encoding)},c.encoder=d(c.props.encoding),c.renderChart=c.renderChart.bind(_assertThisInitialized(c)),c}!function(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}(b,a);var c=b.prototype;return c.renderChart=function(a){var b=this,c=a.width,d=a.height,e=this.props,f=e.data,g=e.encoding,h=e.margin,i=e.theme,j=f.keys.filter(function(a){return a!==g.x.field&&a!==g.y.field}).sort(function(c,a){return c.localeCompare(a)}),k=Object(lodash.groupBy)(f.values,function(a){return j.map(function(b){return b+"="+a[b]}).join(",")}),l=Object(lodash.values)(k).map(function(a){var c=a[0],d={key:j.map(function(a){return c[a]}).join(","),color:b.encoder.channels.color.encode(c),fill:b.encoder.channels.fill.encode(c,!1),strokeDasharray:b.encoder.channels.strokeDasharray.encode(c),values:[]};return d.values=a.map(function(a){return{x:b.encoder.channels.x.encode(a),y:b.encoder.channels.y.encode(a),data:a,parent:d}}),d}),m=Object(lodash.flatMap)(l.filter(function(a){return a.fill}).map(function(a){var b=Object(lodash.uniqueId)("gradient-"+a.key);return[react_default.a.createElement(lib.LinearGradient,{key:a.key+"-gradient",id:b,from:a.color,to:"#fff"}),react_default.a.createElement(lib.AreaSeries,{key:a.key+"-fill",seriesKey:a.key,data:a.values,interpolation:"linear",fill:"url(#"+b+")",stroke:a.color,strokeWidth:1.5})]})),n=l.filter(function(a){return!a.fill}).map(function(a){return react_default.a.createElement(lib.LineSeries,{key:a.key,seriesKey:a.key,interpolation:"linear",data:a.values,stroke:a.color,strokeDasharray:a.strokeDasharray,strokeWidth:1.5})}),o=m.concat(n),p=new XYChartLayout({width:c,height:d,margin:h,theme:i,xEncoder:this.encoder.channels.x,yEncoder:this.encoder.channels.y,children:o});return p.renderChartWithFrame(function(a){return react_default.a.createElement(lib.WithTooltip,{renderTooltip:createTooltip(b.encoder,l)},function(c){var d=c.onMouseLeave,e=c.onMouseMove,f=c.tooltipData;return react_default.a.createElement(lib.XYChart,{width:a.width,height:a.height,ariaLabel:"LineChart",eventTrigger:"container",margin:p.margin,onMouseMove:e,onMouseLeave:d,renderTooltip:null,showYGrid:!0,snapTooltipToDataX:!0,theme:i,tooltipData:f,xScale:b.encoder.channels.x.definition.scale,yScale:b.encoder.channels.y.definition.scale},o,p.renderXAxis(),p.renderYAxis(),react_default.a.createElement(lib.CrossHair,{fullHeight:!0,strokeDasharray:"",showHorizontalLine:!1,circleFill:function(a){return a.y===f.datum.y?a.parent.color:"#fff"},circleSize:function(a){return a.y===f.datum.y?6:4},circleStroke:function(a){return a.y===f.datum.y?"#fff":a.parent.color},circleStyles:CIRCLE_STYLE,stroke:"#ccc",showCircle:!0,showMultipleCircles:!0}))})})},c.render=function(){var a=this,b=this.props,c=b.className,d=b.data,e=b.width,f=b.height;this.createEncoder();var g=this.encoder.hasLegend()?function(){return react_default.a.createElement(ChartLegend,{data:d,encoder:a.encoder})}:void 0;return react_default.a.createElement(components_WithLegend,{className:"superset-chart-line "+c,width:e,height:f,position:"top",renderLegend:g,renderChart:this.renderChart})},b}(react.PureComponent);Line_defineProperty(LineChart,"propTypes",{className:prop_types_default.a.string,width:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.number]).isRequired,height:prop_types_default.a.oneOfType([prop_types_default.a.string,prop_types_default.a.number]).isRequired,margin:prop_types_default.a.any,encoding:prop_types_default.a.any.isRequired,data:prop_types_default.a.any.isRequired,theme:prop_types_default.a.any}),Line_defineProperty(LineChart,"defaultProps",Line_defaultProps);__webpack_exports__.default=LineChart}}]);
//# sourceMappingURL=41.7d0df0db86de821ea0bf.bundle.js.map