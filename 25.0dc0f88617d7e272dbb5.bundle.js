(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{1047:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=exports.dataPropType=void 0;var _distributions=_interopRequireDefault(__webpack_require__(1048)),_react=_interopRequireDefault(__webpack_require__(1)),_reactableArc=__webpack_require__(1055),_propTypes=_interopRequireDefault(__webpack_require__(87));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var dataPropType=_propTypes.default.arrayOf(_propTypes.default.shape({group:_propTypes.default.arrayOf(_propTypes.default.string),values:_propTypes.default.arrayOf(_propTypes.default.shape({x:_propTypes.default.number,y:_propTypes.default.number}))}));exports.dataPropType=dataPropType;var propTypes={alpha:_propTypes.default.number,data:dataPropType.isRequired,groups:_propTypes.default.arrayOf(_propTypes.default.string).isRequired,liftValPrec:_propTypes.default.number,metric:_propTypes.default.string.isRequired,pValPrec:_propTypes.default.number},TTestTable=function(a){var c=Number.isFinite,d=Number.isNaN;function b(b){var c;return(c=a.call(this,b)||this).state={control:0,liftValues:[],pValues:[]},c}!function(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}(b,a);var e=b.prototype;return e.componentWillMount=function(){var a=this.state.control;this.computeTTest(a)},e.getLiftStatus=function(a){var b=this.state,e=b.control,f=b.liftValues;if(a===e)return"control";var g=f[a];return d(g)||!c(g)?"invalid":0<=g?"true":"false"},e.getPValueStatus=function(a){var b=this.state,e=b.control,f=b.pValues;if(a===e)return"control";var g=f[a];return d(g)||!c(g)?"invalid":""},e.getSignificance=function(a){var b=this.state,c=b.control,d=b.pValues,e=this.props.alpha;return a===c?"control":d[a]<=e},e.computeLift=function(a,b){for(var c=this.props.liftValPrec,d=0,e=0,f=0;f<a.length;f++)d+=a[f].y,e+=b[f].y;return((d-e)/e*100).toFixed(c)},e.computePValue=function(a,b){for(var e,c=Math.abs,d=Math.sqrt,f=this.props.pValPrec,g=0,h=0,j=0,k=0;k<a.length;k++)e=b[k].y-a[k].y,isFinite(e)&&(j++,g+=e,h+=e*e);var l=-c(g*d((j-1)/(j*h-g*g)));try{return(2*new _distributions.default.Studentt(j-1).cdf(l)).toFixed(f)}catch(a){return NaN}},e.computeTTest=function(a){var b=this.props.data,c=[],d=[];if(b){for(var f=0;f<b.length;f++)f===a?(c.push("control"),d.push("control")):(c.push(this.computePValue(b[f].values,b[a].values)),d.push(this.computeLift(b[f].values,b[a].values)));this.setState({control:a,liftValues:d,pValues:c})}},e.render=function(){var a=this,b=this.props,c=b.data,d=b.metric,e=b.groups,f=this.state,g=f.control,h=f.liftValues,j=f.pValues,k=e.map(function(a,b){return _react.default.createElement(_reactableArc.Th,{key:b,column:a},a)}),l=e.length;k.push(_react.default.createElement(_reactableArc.Th,{key:l+1,column:"pValue"},"p-value")),k.push(_react.default.createElement(_reactableArc.Th,{key:l+2,column:"liftValue"},"Lift %")),k.push(_react.default.createElement(_reactableArc.Th,{key:l+3,column:"significant"},"Significant"));var m=c.map(function(b,c){var d=e.map(function(a,c){return _react.default.createElement(_reactableArc.Td,{key:c,column:a,data:b.group[c]})});return d.push(_react.default.createElement(_reactableArc.Td,{key:l+1,className:a.getPValueStatus(c),column:"pValue",data:j[c]})),d.push(_react.default.createElement(_reactableArc.Td,{key:l+2,className:a.getLiftStatus(c),column:"liftValue",data:h[c]})),d.push(_react.default.createElement(_reactableArc.Td,{key:l+3,className:a.getSignificance(c),column:"significant",data:a.getSignificance(c)})),_react.default.createElement(_reactableArc.Tr,{key:c,onClick:a.computeTTest.bind(a,c),className:c===g?"control":""},d)}),n=e.concat([{column:"pValue",sortFunction:function(c,a){return"control"===c?-1:"control"===a?1:c>a?1:-1}},{column:"liftValue",sortFunction:function(c,a){return"control"===c?-1:"control"===a?1:parseFloat(c)>parseFloat(a)?-1:1}},{column:"significant",sortFunction:function(c,a){return"control"===c?-1:"control"===a?1:c>a?-1:1}}]);return _react.default.createElement("div",null,_react.default.createElement("h3",null,d),_react.default.createElement(_reactableArc.Table,{className:"table",id:"table_"+d,sortable:n},_react.default.createElement(_reactableArc.Thead,null,k),m))},b}(_react.default.Component);TTestTable.propTypes=propTypes,TTestTable.defaultProps={alpha:.05,liftValPrec:4,pValPrec:6};var _default=TTestTable;exports.default=_default},1063:function(module,exports,__webpack_require__){var content=__webpack_require__(1064);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(131)(content,options);content.locals&&(module.exports=content.locals)},1064:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(130)(!1)).push([module.i,"/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n.superset-legacy-chart-paired_ttest .scrollbar-container {\n  overflow: auto;\n}\n\n.paired-ttest-table .scrollbar-content {\n  padding-left: 5px;\n  padding-right: 5px;\n  margin-bottom: 0;\n}\n\n.paired-ttest-table table {\n  margin-bottom: 0;\n}\n\n.paired-ttest-table h1 {\n  margin-left: 5px;\n}\n\n.reactable-data tr,\n.reactable-header-sortable {\n  transition: ease-in-out 0.1s;\n}\n\n.reactable-data tr:hover {\n  background-color: #e0e0e0;\n}\n\n.reactable-data tr .false {\n  color: #f44336;\n}\n\n.reactable-data tr .true {\n  color: #4caf50;\n}\n\n.reactable-data tr .control {\n  color: #2196f3;\n}\n\n.reactable-data tr .invalid {\n  color: #ff9800;\n}\n\n.reactable-data .control td {\n  background-color: #eeeeee;\n}\n\n.reactable-header-sortable:hover,\n.reactable-header-sortable:focus,\n.reactable-header-sort-asc,\n.reactable-header-sort-desc {\n  background-color: #e0e0e0;\n  position: relative;\n}\n\n.reactable-header-sort-asc:after {\n  content: '\\25BC';\n  position: absolute;\n  right: 10px;\n}\n\n.reactable-header-sort-desc:after {\n  content: '\\25B2';\n  position: absolute;\n  right: 10px;\n}\n",""])},673:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(87)),_react=_interopRequireDefault(__webpack_require__(1)),_TTestTable=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};d.get||d.set?Object.defineProperty(b,c,d):b[c]=a[c]}return b.default=a,b}(__webpack_require__(1047));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}__webpack_require__(1063);var propTypes={alpha:_propTypes.default.number,className:_propTypes.default.string,data:_propTypes.default.objectOf(_TTestTable.dataPropType).isRequired,groups:_propTypes.default.arrayOf(_propTypes.default.string).isRequired,liftValPrec:_propTypes.default.number,metrics:_propTypes.default.arrayOf(_propTypes.default.string).isRequired,pValPrec:_propTypes.default.number},PairedTTest=function(a){function b(){return a.apply(this,arguments)||this}return function(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}(b,a),b.prototype.render=function(){var a=this.props,b=a.className,c=a.metrics,d=a.groups,e=a.data,f=a.alpha,g=a.pValPrec,h=a.liftValPrec;return _react.default.createElement("div",{className:"superset-legacy-chart-paired-t-test "+b},_react.default.createElement("div",{className:"paired-ttest-table scrollbar-container"},_react.default.createElement("div",{className:"scrollbar-content"},c.map(function(a,b){var c=Math.min;return _react.default.createElement(_TTestTable.default,{key:b,metric:a,groups:d,data:e[a],alpha:f,pValPrec:c(g,32),liftValPrec:c(h,32)})}))))},b}(_react.default.PureComponent);PairedTTest.propTypes=propTypes,PairedTTest.defaultProps={alpha:.05,className:"",liftValPrec:4,pValPrec:6};var _default=PairedTTest;exports.default=_default}}]);
//# sourceMappingURL=25.0dc0f88617d7e272dbb5.bundle.js.map