(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{597:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;var a,_chart=__webpack_require__(10),_Heatmap=(a=__webpack_require__(615))&&a.__esModule?a:{default:a};var _default=(0,_chart.reactify)(_Heatmap.default);exports.default=_default},615:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;var _d=_interopRequireDefault(__webpack_require__(603)),_propTypes=_interopRequireDefault(__webpack_require__(87));__webpack_require__(616);var _d3Tip=_interopRequireDefault(__webpack_require__(621)),_color=__webpack_require__(118),_numberFormat=__webpack_require__(604);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}__webpack_require__(623),__webpack_require__(625);var propTypes={data:_propTypes.default.shape({records:_propTypes.default.arrayOf(_propTypes.default.shape({x:_propTypes.default.string,y:_propTypes.default.string,v:_propTypes.default.number,perc:_propTypes.default.number,rank:_propTypes.default.number})),extents:_propTypes.default.arrayOf(_propTypes.default.number)}),width:_propTypes.default.number,height:_propTypes.default.number,bottomMargin:_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.number]),colorScheme:_propTypes.default.string,columnX:_propTypes.default.string,columnY:_propTypes.default.string,leftMargin:_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.number]),metric:_propTypes.default.oneOfType([_propTypes.default.string,_propTypes.default.object]),normalized:_propTypes.default.bool,numberFormat:_propTypes.default.string,showLegend:_propTypes.default.bool,showPercentage:_propTypes.default.bool,showValues:_propTypes.default.bool,sortXAxis:_propTypes.default.string,sortYAxis:_propTypes.default.string,xScaleInterval:_propTypes.default.number,yScaleInterval:_propTypes.default.number,yAxisBounds:_propTypes.default.arrayOf(_propTypes.default.number)};function cmp(c,a){return c>a?1:-1}function Heatmap(a,b){function c(a,b,c){var e={},f={};z.forEach(function(b){e[b[a]]=(e[b[a]]||0)+b.v,f[b[a]]=b[a]});var g=Object.keys(f).map(function(a){return f[a]});return"alpha_asc"===c?e=g.sort(cmp):"alpha_desc"===c?e=g.sort(cmp).reverse():"value_desc"===c?e=Object.keys(e).sort(function(c,a){return e[c]>e[a]?-1:1}):"value_asc"==c&&(e=Object.keys(e).sort(function(c,a){return e[a]>e[c]?-1:1})),"y"===a&&b&&e.reverse(),b?_d.default.scale.ordinal().domain(e).rangeBands(b):_d.default.scale.ordinal().domain(e).range(_d.default.range(e.length))}var d=b.data,e=b.width,f=b.height,g=b.bottomMargin,h=b.canvasImageRendering,i=b.colorScheme,j=b.columnX,k=b.columnY,l=b.leftMargin,o=b.metric,p=b.normalized,q=b.numberFormat,r=b.showLegend,s=b.showPercentage,t=b.showValues,u=b.sortXAxis,v=b.sortYAxis,w=b.xScaleInterval,x=b.yScaleInterval,y=b.yAxisBounds,z=d.records,A=d.extents,B={top:10,right:10,bottom:35,left:35},C=(0,_numberFormat.getNumberFormatter)(q);a.innerHTML="";var D={};!function(){for(var c,a=Math.ceil,b=Math.max,f=1,h=1,j=0;j<z.length;j++)f=b(f,(c=z[j]).x.toString().length||1),h=b(h,c.y.toString().length||1);B.left="auto"===l?a(b(B.left,6*h)):l,r&&(B.right+=40),B.bottom="auto"===g?a(b(B.bottom,4.5*f)):g}();var E=e-(B.left+B.right),F=f-(B.bottom+B.top),G=(0,_numberFormat.getNumberFormatter)(_numberFormat.NumberFormats.PERCENT),m=c("x",null,u),n=c("y",null,v),H=c("x",[0,E],u),I=c("y",[F,0],v),L=[H.domain().length,I.domain().length],M=y[0]||0,N=y[1]||1,O=(0,_color.getSequentialSchemeRegistry)().get(i).createLinearScale([M,N]),P=[_d.default.scale.linear().domain([0,L[0]]).range([0,E]),_d.default.scale.linear().domain([0,L[1]]).range([0,F])],Q=_d.default.select(a);Q.classed("superset-legacy-chart-heatmap",!0);var R=Q.append("canvas").attr("width",L[0]).attr("height",L[1]).style("width",E+"px").style("height",F+"px").style("image-rendering",h).style("left",B.left+"px").style("top",B.top+"px").style("position","absolute"),S=Q.append("svg").attr("width",e).attr("height",f).style("position","relative");t&&S.selectAll("rect").data(z).enter().append("g").attr("transform","translate("+B.left+", "+B.top+")").append("text").attr("transform",function(a){return"translate("+H(a.x)+", "+I(a.y)+")"}).attr("y",I.rangeBand()/2).attr("x",H.rangeBand()/2).attr("text-anchor","middle").attr("dy",".35em").text(function(a){return C(a.v)}).attr("font-size",Math.min(I.rangeBand(),H.rangeBand())/3+"px").attr("fill",function(a){return a.v>=A[1]/2?"white":"black"});if(r){var Z=_d.default.legend.color().labelFormat(C).scale(O).shapePadding(0).cells(10).shapeWidth(10).shapeHeight(10).labelOffset(3);S.append("g").attr("transform","translate("+(e-40)+", "+B.top+")").call(Z)}var T=(0,_d3Tip.default)().attr("class","d3-tip").offset(function(){var a=_d.default.mouse(this),b=a[0]-E/2;return[a[1]-20,b]}).html(function(){var a=Math.floor,b="",c=_d.default.mouse(this),d=a(P[0].invert(c[0])),e=a(P[1].invert(c[1])),f="object"==typeof o?o.label:o;if(d in D&&e in D[d]){var g=D[d][e];b+="<div><b>"+j+": </b>"+g.x+"<div>",b+="<div><b>"+k+": </b>"+g.y+"<div>",b+="<div><b>"+f+": </b>"+C(g.v)+"<div>",s&&(b+="<div><b>%: </b>"+G(p?g.rank:g.perc)+"<div>"),T.style("display",null)}else T.style("display","none");return b});S.append("g").attr("transform","translate("+B.left+", "+B.top+")").append("rect").classed("background-rect",!0).on("mousemove",T.show).on("mouseout",T.hide).attr("width",E).attr("height",F).call(T);var V=_d.default.svg.axis().scale(H).outerTickSize(0).tickValues(H.domain().filter(function(a,b){return!(b%w)})).orient("bottom"),W=_d.default.svg.axis().scale(I).outerTickSize(0).tickValues(I.domain().filter(function(a,b){return!(b%x)})).orient("left");S.append("g").attr("class","x axis").attr("transform","translate("+B.left+","+(B.top+F)+")").call(V).selectAll("text").attr("x",-4).attr("y",10).attr("dy","0.3em").style("text-anchor","end").attr("transform","rotate(-45)"),S.append("g").attr("class","y axis").attr("transform","translate("+B.left+","+B.top+")").call(W);var X=R.node().getContext("2d");X.imageSmoothingEnabled=!1,function(){var a=new Image,b=X.createImageData(L[0],L[1]),e={};z.forEach(function(a){var b=_d.default.rgb(O(p?a.rank:a.perc)),c=m(a.x),d=n(a.y);e[c+d*m.domain().length]=b,void 0===D[c]&&(D[c]={}),void 0===D[c][d]&&(D[c][d]=a)});for(var f=-1,d=0;d<L[0]*L[1];d++){var g=e[d],h=255;void 0===g&&(g=_d.default.rgb("#F00"),h=0),b.data[++f]=g.r,b.data[++f]=g.g,b.data[++f]=g.b,b.data[++f]=h}X.putImageData(b,0,0),a.src=R.node().toDataURL()}()}Heatmap.displayName="Heatmap",Heatmap.propTypes=propTypes;var _default=Heatmap;exports.default=_default},623:function(module,exports,__webpack_require__){var content=__webpack_require__(624);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(226)(content,options);content.locals&&(module.exports=content.locals)},624:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(225)(!1)).push([module.i,'/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* from d3-tip */\n.d3-tip {\n  line-height: 1;\n  padding: 12px;\n  background: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  border-radius: 2px;\n  pointer-events: none;\n  z-index: 1000;\n}\n\n/* Creates a small triangle extender for the tooltip */\n.d3-tip:after {\n  box-sizing: border-box;\n  display: inline;\n  font-size: 10px;\n  width: 100%;\n  line-height: 1;\n  color: rgba(0, 0, 0, 0.8);\n  position: absolute;\n  pointer-events: none;\n}\n\n/* Northward tooltips */\n.d3-tip.n:after {\n  content: "\\25BC";\n  margin: -1px 0 0 0;\n  top: 100%;\n  left: 0;\n  text-align: center;\n}\n\n/* Eastward tooltips */\n.d3-tip.e:after {\n  content: "\\25C0";\n  margin: -4px 0 0 0;\n  top: 50%;\n  left: -8px;\n}\n\n/* Southward tooltips */\n.d3-tip.s:after {\n  content: "\\25B2";\n  margin: 0 0 1px 0;\n  top: -8px;\n  left: 0;\n  text-align: center;\n}\n\n/* Westward tooltips */\n.d3-tip.w:after {\n  content: "\\25B6";\n  margin: -4px 0 0 -1px;\n  top: 50%;\n  left: 100%;\n}\n',""])},625:function(module,exports,__webpack_require__){var content=__webpack_require__(626);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(226)(content,options);content.locals&&(module.exports=content.locals)},626:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(225)(!1)).push([module.i,'/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n.superset-legacy-chart-heatmap {\n  position: relative;\n  top: 0;\n  left: 0;\n  height: 100%;\n}\n\n.superset-legacy-chart-heatmap .axis text {\n  font: 12px sans-serif;\n  text-rendering: optimizeLegibility;\n  fill: #555;\n}\n\n.superset-legacy-chart-heatmap .background-rect {\n  stroke: #ddd;\n  fill-opacity: 0;\n  pointer-events: all;\n}\n\n.superset-legacy-chart-heatmap .axis path,\n.superset-legacy-chart-heatmap .axis line {\n  fill: none;\n  stroke: #ddd;\n  shape-rendering: crispEdges;\n}\n\n.superset-legacy-chart-heatmap canvas, .superset-legacy-chart-heatmap img {\n  image-rendering: optimizeSpeed;             /* Older versions of FF          */\n  image-rendering: -moz-crisp-edges;          /* FF 6.0+                       */ /* Safari                        */\n  image-rendering: -o-crisp-edges;            /* OS X & Windows Opera (12.02+) */\n  image-rendering: pixelated;                 /* Awesome future-browsers       */\n  -ms-interpolation-mode: nearest-neighbor;   /* IE                            */\n}\n\n.superset-legacy-chart-heatmap .legendCells text {\n  font-size: 10px;\n  font-weight: normal;\n  opacity: 0;\n}\n\n.superset-legacy-chart-heatmap .legendCells .cell:first-child text {\n  opacity: 1;\n}\n.superset-legacy-chart-heatmap .legendCells .cell:last-child text {\n  opacity: 1;\n}\n\n.dashboard .superset-legacy-chart-heatmap .axis text {\n  font-size: 10px;\n  opacity: .75;\n}\n',""])}}]);
//# sourceMappingURL=6.39debd55285ece45df4e.bundle.js.map