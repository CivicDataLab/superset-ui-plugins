(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1144:function(module,exports,__webpack_require__){!function(exports){"use strict";function ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function bisector(compare){var f;return 1===compare.length&&(f=compare,compare=function(d,x){return ascending(f(d),x)}),{left:function(a,x,lo,hi){for(null==lo&&(lo=0),null==hi&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)<0?lo=mid+1:hi=mid}return lo},right:function(a,x,lo,hi){for(null==lo&&(lo=0),null==hi&&(hi=a.length);lo<hi;){var mid=lo+hi>>>1;compare(a[mid],x)>0?hi=mid:lo=mid+1}return lo}}}var ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right,bisectLeft=ascendingBisect.left;function length(array){return 0|array.length}function empty(length){return!(length>0)}function arrayify(values){return"object"!=typeof values||"length"in values?values:Array.from(values)}function variance(values,valueof){let delta,count=0,mean=0,sum=0;if(void 0===valueof)for(let value of values)null!=value&&(value=+value)>=value&&(mean+=(delta=value-mean)/++count,sum+=delta*(value-mean));else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&(value=+value)>=value&&(mean+=(delta=value-mean)/++count,sum+=delta*(value-mean))}if(count>1)return sum/(count-1)}function deviation(values,valueof){const v=variance(values,valueof);return v?Math.sqrt(v):v}function extent(values,valueof){let min,max;if(void 0===valueof)for(let value of values)null!=value&&value>=value&&(void 0===min?min=max=value:(min>value&&(min=value),max<value&&(max=value)));else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&value>=value&&(void 0===min?min=max=value:(min>value&&(min=value),max<value&&(max=value)))}return[min,max]}function identity(x){return x}function rollup(values,reduce,...keys){return function regroup(values,i){if(i>=keys.length)return reduce(values);const map=function(values,keyof){const map=new Map;let index=-1;for(const value of values){const key=keyof(value,++index,values),group=map.get(key);group?group.push(value):map.set(key,[value])}return map}(values,keys[i]);return new Map(Array.from(map,([k,v])=>[k,regroup(v,i+1)]))}(values,0)}var array=Array.prototype,slice=array.slice,map=array.map;function constant(x){return function(){return x}}function range(start,stop,step){start=+start,stop=+stop,step=(n=arguments.length)<2?(stop=start,start=0,1):n<3?1:+step;for(var i=-1,n=0|Math.max(0,Math.ceil((stop-start)/step)),range=new Array(n);++i<n;)range[i]=start+i*step;return range}var e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickIncrement(start,stop,count){var step=(stop-start)/Math.max(0,count),power=Math.floor(Math.log(step)/Math.LN10),error=step/Math.pow(10,power);return power>=0?(error>=e10?10:error>=e5?5:error>=e2?2:1)*Math.pow(10,power):-Math.pow(10,-power)/(error>=e10?10:error>=e5?5:error>=e2?2:1)}function tickStep(start,stop,count){var step0=Math.abs(stop-start)/Math.max(0,count),step1=Math.pow(10,Math.floor(Math.log(step0)/Math.LN10)),error=step0/step1;return error>=e10?step1*=10:error>=e5?step1*=5:error>=e2&&(step1*=2),stop<start?-step1:step1}function sturges(values){return Math.ceil(Math.log(values.length)/Math.LN2)+1}function number(x){return null===x?NaN:+x}function quantile(values,p,valueof=number){if(n=values.length){if((p=+p)<=0||n<2)return+valueof(values[0],0,values);if(p>=1)return+valueof(values[n-1],n-1,values);var n,i=(n-1)*p,i0=Math.floor(i),value0=+valueof(values[i0],i0,values),value1=+valueof(values[i0+1],i0+1,values);return value0+(value1-value0)*(i-i0)}}function quickselect(array,k,left=0,right=array.length-1,compare=ascending){for(;right>left;){if(right-left>600){const n=right-left+1,m=k-left+1,z=Math.log(n),s=.5*Math.exp(2*z/3),sd=.5*Math.sqrt(z*s*(n-s)/n)*(m-n/2<0?-1:1),newLeft=Math.max(left,Math.floor(k-m*s/n+sd)),newRight=Math.min(right,Math.floor(k+(n-m)*s/n+sd));quickselect(array,k,newLeft,newRight,compare)}const t=array[k];let i=left,j=right;for(swap(array,left,k),compare(array[right],t)>0&&swap(array,left,right);i<j;){for(swap(array,i,j),++i,--j;compare(array[i],t)<0;)++i;for(;compare(array[j],t)>0;)--j}0===compare(array[left],t)?swap(array,left,j):swap(array,++j,right),j<=k&&(left=j+1),k<=j&&(right=j-1)}return array}function swap(array,i,j){const t=array[i];array[i]=array[j],array[j]=t}function min(values,valueof){let min;if(void 0===valueof)for(let value of values)null!=value&&value>=value&&(void 0===min||min>value)&&(min=value);else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&value>=value&&(void 0===min||min>value)&&(min=value)}return min}function transpose(matrix){if(!(n=matrix.length))return[];for(var i=-1,m=min(matrix,length$1),transpose=new Array(m);++i<m;)for(var n,j=-1,row=transpose[i]=new Array(n);++j<n;)row[j]=matrix[j][i];return transpose}function length$1(d){return d.length}exports.bisect=bisectRight,exports.bisectRight=bisectRight,exports.bisectLeft=bisectLeft,exports.ascending=ascending,exports.bisector=bisector,exports.cross=function(...values){const reduce="function"==typeof values[values.length-1]&&function(reduce){return values=>reduce(...values)}(values.pop()),lengths=(values=values.map(arrayify)).map(length),j=values.length-1,index=new Array(j+1).fill(0),product=[];if(j<0||lengths.some(empty))return product;for(;;){product.push(index.map((j,i)=>values[i][j]));let i=j;for(;++index[i]===lengths[i];){if(0===i)return reduce?product.map(reduce):product;index[i--]=0}}},exports.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},exports.deviation=deviation,exports.extent=extent,exports.group=function(values,...keys){return rollup(values,identity,...keys)},exports.histogram=function(){var value=identity,domain=extent,threshold=sturges;function histogram(data){Array.isArray(data)||(data=Array.from(data));var i,x,n=data.length,values=new Array(n);for(i=0;i<n;++i)values[i]=value(data[i],i,data);var xz=domain(values),x0=xz[0],x1=xz[1],tz=threshold(values,x0,x1);Array.isArray(tz)||(tz=tickStep(x0,x1,tz),tz=range(Math.ceil(x0/tz)*tz,x1,tz));for(var m=tz.length;tz[0]<=x0;)tz.shift(),--m;for(;tz[m-1]>x1;)tz.pop(),--m;var bin,bins=new Array(m+1);for(i=0;i<=m;++i)(bin=bins[i]=[]).x0=i>0?tz[i-1]:x0,bin.x1=i<m?tz[i]:x1;for(i=0;i<n;++i)x=values[i],x0<=x&&x<=x1&&bins[bisectRight(tz,x,0,m)].push(data[i]);return bins}return histogram.value=function(_){return arguments.length?(value="function"==typeof _?_:constant(_),histogram):value},histogram.domain=function(_){return arguments.length?(domain="function"==typeof _?_:constant([_[0],_[1]]),histogram):domain},histogram.thresholds=function(_){return arguments.length?(threshold="function"==typeof _?_:Array.isArray(_)?constant(slice.call(_)):constant(_),histogram):threshold},histogram},exports.thresholdFreedmanDiaconis=function(values,min,max){return values=map.call(values,number).sort(ascending),Math.ceil((max-min)/(2*(quantile(values,.75)-quantile(values,.25))*Math.pow(values.length,-1/3)))},exports.thresholdScott=function(values,min,max){return Math.ceil((max-min)/(3.5*deviation(values)*Math.pow(values.length,-1/3)))},exports.thresholdSturges=sturges,exports.max=function(values,valueof){let max;if(void 0===valueof)for(let value of values)null!=value&&value>=value&&(void 0===max||max<value)&&(max=value);else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&value>=value&&(void 0===max||max<value)&&(max=value)}return max},exports.mean=function(values,valueof){let count=0,sum=0;if(void 0===valueof)for(let value of values)null!=value&&(value=+value)>=value&&(++count,sum+=value);else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&(value=+value)>=value&&(++count,sum+=value)}if(count)return sum/count},exports.median=function(values,valueof){if(!(values=Float64Array.from(function*(values,valueof){if(void 0===valueof)for(let value of values)null!=value&&(value=+value)>=value&&(yield value);else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&(value=+value)>=value&&(yield value)}}(values,valueof))).length)return;const n=values.length,i=n>>1;return quickselect(values,i-1,0),0==(1&n)&&quickselect(values,i,i),quantile(values,.5)},exports.merge=function(arrays){return Array.from(function*(arrays){for(const array of arrays)yield*array}(arrays))},exports.min=min,exports.pairs=function(values,pairof=function(a,b){return[a,b]}){const pairs=[];let previous,first=!1;for(const value of values)first&&pairs.push(pairof(previous,value)),previous=value,first=!0;return pairs},exports.permute=function(array,indexes){for(var i=indexes.length,permutes=new Array(i);i--;)permutes[i]=array[indexes[i]];return permutes},exports.quantile=quantile,exports.quickselect=quickselect,exports.range=range,exports.rollup=rollup,exports.scan=function(values,compare=ascending){let min,minIndex,index=-1;for(const value of values)++index,(void 0===minIndex?0===compare(value,value):compare(value,min)<0)&&(min=value,minIndex=index);return minIndex},exports.shuffle=function(array,i0=0,i1=array.length){for(var t,i,m=i1-(i0=+i0);m;)i=Math.random()*m--|0,t=array[m+i0],array[m+i0]=array[i+i0],array[i+i0]=t;return array},exports.sum=function(values,valueof){let sum=0;if(void 0===valueof)for(let value of values)(value=+value)&&(sum+=value);else{let index=-1;for(let value of values)(value=+valueof(value,++index,values))&&(sum+=value)}return sum},exports.ticks=function(start,stop,count){var reverse,n,ticks,step,i=-1;if(count=+count,(start=+start)==(stop=+stop)&&count>0)return[start];if((reverse=stop<start)&&(n=start,start=stop,stop=n),0===(step=tickIncrement(start,stop,count))||!isFinite(step))return[];if(step>0)for(start=Math.ceil(start/step),stop=Math.floor(stop/step),ticks=new Array(n=Math.ceil(stop-start+1));++i<n;)ticks[i]=(start+i)*step;else for(start=Math.floor(start*step),stop=Math.ceil(stop*step),ticks=new Array(n=Math.ceil(start-stop+1));++i<n;)ticks[i]=(start-i)/step;return reverse&&ticks.reverse(),ticks},exports.tickIncrement=tickIncrement,exports.tickStep=tickStep,exports.transpose=transpose,exports.variance=variance,exports.zip=function(){return transpose(arguments)},Object.defineProperty(exports,"__esModule",{value:!0})}(exports)},1590:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=exports.DEFAULT_COLORS=void 0;var _react=_interopRequireDefault(__webpack_require__(0)),_propTypes=_interopRequireDefault(__webpack_require__(2)),_d3Array=__webpack_require__(1144),_d3Scale=__webpack_require__(65);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _extends(){return(_extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c])Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a}).apply(this,arguments)}var DEFAULT_COLORS=["#313695","#4575b4","#74add1","#abd9e9","#fee090","#fdae61","#f46d43","#d73027"];exports.DEFAULT_COLORS=DEFAULT_COLORS;var propTypes={className:_propTypes.default.string,width:_propTypes.default.number,height:_propTypes.default.number,data:_propTypes.default.arrayOf(_propTypes.default.shape({y:_propTypes.default.number})).isRequired,bands:_propTypes.default.number,colors:_propTypes.default.arrayOf(_propTypes.default.string),colorScale:_propTypes.default.string,mode:_propTypes.default.string,offsetX:_propTypes.default.number,title:_propTypes.default.string,yDomain:_propTypes.default.arrayOf(_propTypes.default.number)},defaultProps={className:"",width:800,height:20,bands:DEFAULT_COLORS.length>>1,colors:DEFAULT_COLORS,colorScale:"series",mode:"offset",offsetX:0,title:"",yDomain:void 0},HorizonRow=function(a){function b(){return a.apply(this,arguments)||this}!function(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}(b,a);var c=b.prototype;return c.componentDidMount=function(){this.drawChart()},c.componentDidUpdate=function(){this.drawChart()},c.componentWillUnmount=function(){this.canvas=null},c.drawChart=function(){if(this.canvas){var a=this.props,c=a.data,d=a.yDomain,e=a.width,f=a.height,g=a.bands,h=a.colors,j=a.colorScale,k=a.offsetX,l=a.mode,m="change"===j?c.map(function(a){return _extends({},a,{y:a.y-c[0].y})}):c,n=this.canvas.getContext("2d");n.imageSmoothingEnabled=!1,n.clearRect(0,0,e,f),n.setTransform(1,0,0,1,0,0),n.translate(.5,.5);var o=e/m.length,p=Math.floor(Math.max(0,-k/o)),q=Math.floor(Math.min(m.length,p+e/o));if(p>m.length)return;for(var r,s,t=d||(0,_d3Array.extent)(m,function(a){return a.y}),u=t[0],v=t[1],w=(0,_d3Scale.scaleLinear)().domain([0,Math.max(-u,v)]).range([0,f]),x=!1,y=0;y<g;y+=1){n.fillStyle=h[g+y],s=(y+1-g)*f,w.range([g*f+s,s]);for(var A=p;A<q;A++)0>=(r=m[A].y)?x=!0:void 0!==r&&n.fillRect(k+A*o,w(r),o+1,w(0)-w(r))}if(x){"offset"===l&&(n.translate(0,f),n.scale(1,-1));for(var i=0;i<g;i++){n.fillStyle=h[g-i-1],s=(i+1-g)*f,w.range([g*f+s,s]);for(var B=p;B<q;B++)!(0<=(r=m[B].y))&&n.fillRect(k+B*o,w(-r),o+1,w(0)-w(-r))}}}},c.render=function(){var a=this,b=this.props,c=b.className,d=b.title,e=b.width,f=b.height;return _react.default.createElement("div",{className:"horizon-row "+c},_react.default.createElement("span",{className:"title"},d),_react.default.createElement("canvas",{width:e,height:f,ref:function(b){a.canvas=b}}))},b}(_react.default.PureComponent);HorizonRow.propTypes=propTypes,HorizonRow.defaultProps=defaultProps;var _default=HorizonRow;exports.default=_default},1591:function(module,exports,__webpack_require__){var content=__webpack_require__(1592);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(117)(content,options);content.locals&&(module.exports=content.locals)},1592:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(116)(!1)).push([module.i,'/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * "License"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n.superset-legacy-chart-horizon {\n  overflow: auto;\n}\n\n.superset-legacy-chart-horizon .horizon-row  {\n  border-bottom: solid 1px #ddd;\n  border-top: 0px;\n  padding: 0px;\n  margin: 0px;\n}\n\n.superset-legacy-chart-horizon .horizon-row span.title {\n  position: absolute;\n  color: #333;\n  font-size: 0.8em;\n  margin: 0;\n  text-shadow: 1px 1px rgba(255, 255, 255, 0.75);\n}\n',""])},892:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(0)),_propTypes=_interopRequireDefault(__webpack_require__(2)),_d3Array=__webpack_require__(1144),_HorizonRow=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};d.get||d.set?Object.defineProperty(b,c,d):b[c]=a[c]}return b.default=a,b}(__webpack_require__(1590));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}__webpack_require__(1591);var propTypes={className:_propTypes.default.string,width:_propTypes.default.number,seriesHeight:_propTypes.default.number,data:_propTypes.default.arrayOf(_propTypes.default.shape({key:_propTypes.default.arrayOf(_propTypes.default.string),values:_propTypes.default.arrayOf(_propTypes.default.shape({y:_propTypes.default.number}))})).isRequired,bands:_propTypes.default.number,colors:_propTypes.default.arrayOf(_propTypes.default.string),colorScale:_propTypes.default.string,mode:_propTypes.default.string,offsetX:_propTypes.default.number},defaultProps={className:"",width:800,seriesHeight:20,bands:Math.floor(_HorizonRow.DEFAULT_COLORS.length/2),colors:_HorizonRow.DEFAULT_COLORS,colorScale:"series",mode:"offset",offsetX:0},HorizonChart=function(a){function b(){return a.apply(this,arguments)||this}return function(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}(b,a),b.prototype.render=function(){var a,b=this.props,c=b.className,d=b.width,e=b.data,f=b.seriesHeight,g=b.bands,h=b.colors,i=b.colorScale,j=b.mode,k=b.offsetX;if("overall"===i){var m=e.reduce(function(a,b){return a.concat(b.values)},[]);a=(0,_d3Array.extent)(m,function(a){return a.y})}return _react.default.createElement("div",{className:"superset-legacy-chart-horizon "+c},e.map(function(b){return _react.default.createElement(_HorizonRow.default,{key:b.key,width:d,height:f,title:b.key.join(", "),data:b.values,bands:g,colors:h,colorScale:i,mode:j,offsetX:k,yDomain:a})}))},b}(_react.default.PureComponent);HorizonChart.propTypes=propTypes,HorizonChart.defaultProps=defaultProps;var _default=HorizonChart;exports.default=_default}}]);
//# sourceMappingURL=19.249e75d8d3f94eba875c.bundle.js.map